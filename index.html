<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>KenGoå¼ï¼šé¢¨Ã—å††Ã—ã‚´ãƒ  è¨ºæ–­ï¼ˆç›¸æ€§ã¤ããƒ»è‡ªç”±å…¥åŠ›ï¼‰</title>
<meta name="description" content="KenGoå¼ Elastic Human OSï¼ˆé¢¨Ã—å††Ã—ã‚´ãƒ ï¼‰ã®ç°¡æ˜“è¨ºæ–­ï¼†ç›¸æ€§ãƒã‚§ãƒƒã‚«ãƒ¼ã€‚iPhoneæœ€é©åŒ–ï¼è‡ªç”±å…¥åŠ›æ—¥ä»˜ã€‚">
<meta name="color-scheme" content="light dark" />
<style>
/* ===== iPhoneæœ€é©åŒ–ï¼šã§ã‹ãƒœã‚¿ãƒ³ãƒ»é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ»è»½é‡UI ===== */
:root{
  --bg:#f7f8fa; --ink:#0b1220; --sub:#5a6a86; --card:#ffffff; --line:#e5e9f2;
  --acc:#2dd4bf; --acc2:#60a5fa; --bad:#ef476f; --ok:#16a34a;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0e12; --ink:#eaf2ff; --sub:#9bb1cc; --card:#121722; --line:#1f2a3c;
    --acc:#2dd4bf; --acc2:#60a5fa; --bad:#ff8fa6; --ok:#4ade80;
  }
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial;
  -webkit-text-size-adjust:100%;
  line-height:1.6;
  font-size:18px;
}
.wrap{padding:20px}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  padding:20px;
  max-width:720px;
  margin:16px auto;
}
h1{font-size:24px; margin:0 0 6px}
.lead{color:var(--sub); margin:0 0 10px}
.kv{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.kv .big{font-size:30px}
.grid{display:grid; grid-template-columns:1fr; gap:14px; margin: 12px 0}
@media (min-width:720px){ .grid{grid-template-columns:1fr 1fr} }
label{display:block; margin: 10px 4px 6px; font-size:18px}
.input{
  width:100%; padding:14px 16px; border-radius:14px;
  border:1.5px solid var(--line); background:transparent; color:var(--ink);
  font-size:18px; line-height:1; min-height:52px;
}
.input::placeholder{color:var(--sub)}
.input:focus{outline:none; border-color:var(--acc2); box-shadow:0 0 0 3px color-mix(in oklab, var(--acc2) 20%, transparent)}
.hint{font-size:14px; color:var(--sub); margin:6px 4px 0}
.err{font-size:14px; color:var(--bad); margin:6px 4px 0; display:none}
button{
  width:100%; min-height:56px; padding:14px 16px; border:0; border-radius:14px;
  background: linear-gradient(90deg, var(--acc), var(--acc2));
  color:#001014; font-weight:800; font-size:20px; cursor:pointer; margin-top:12px;
  -webkit-tap-highlight-color: transparent;
}
button:active{transform:translateY(1px)}
.smallbtn{width:auto; min-height:44px; font-size:16px; padding:10px 12px; border-radius:10px; background:none; border:1px solid var(--line); color:var(--ink)}
.sep{height:1px; background:var(--line); margin:18px 0}
.badges{display:flex; flex-wrap:wrap; gap:8px; margin:6px 0}
.badge{border:1px solid var(--line); padding:8px 10px; border-radius:999px; font-size:16px}
.emo{font-size:20px}
.result{margin-top: 10px; padding:16px; border-radius:14px; border:1px solid var(--line); background: color-mix(in oklab, var(--card) 85%, transparent)}
h2{font-size:22px; margin: 4px 0 8px}
h3{font-size:18px; margin: 6px 0 4px}
.kawaii b{color:var(--ok)}
.tag{border:1px solid var(--line); padding:8px 10px; border-radius:12px; font-size:15px; display:inline-block; margin-right:6px; margin-bottom:6px;}
.footer{color:var(--sub); font-size:13px; margin-top: 6px}
.langtoggle{color:var(--acc2); text-decoration:underline; background:none; border:none; cursor:pointer; font-size:16px}
.center{display:flex; justify-content:center; gap:8px; flex-wrap:wrap}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="kv">
        <div class="big">ğŸŒ€</div>
        <div>
          <h1 id="t_title">KenGoå¼ï¼šé¢¨ Ã— å†† Ã— ã‚´ãƒ  è¨ºæ–­</h1>
          <p class="lead" id="t_lead">ç”Ÿå¹´æœˆæ—¥ã¯ã€Œ19900504 / 1990-05-04 / 1990/05/04ã€ã€‚ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯ä»»æ„ã€‚ç›¸æ€§ã‚‚åŒç”»é¢ã§ã€‚</p>
          <button class="langtoggle" id="langBtn" aria-label="switch language">æ—¥æœ¬èª / English</button>
        </div>
      </div>

      <div class="grid">
        <!-- è‡ªåˆ† -->
        <div class="card" style="margin:0">
          <h3 id="t_you">ã‚ãªãŸ / You</h3>
          <label id="t_nick1">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆä»»æ„ï¼‰</label>
          <input class="input" type="text" id="nickA" placeholder="ä¾‹ï¼šKenGo / Optional" />
          <label id="t_birth1">ç”Ÿå¹´æœˆæ—¥ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰</label>
          <input class="input" id="dateA" inputmode="numeric" pattern="[0-9]*" autocomplete="bday"
                 placeholder="19900504 / 1990-05-04 / 1990/05/04" />
          <div class="hint" id="t_hintA">æ•°å­—8æ¡ã€ã¾ãŸã¯åŒºåˆ‡ã‚Šã¤ãã§ã‚‚OKã€‚å…¨è§’ã‚‚è‡ªå‹•å¤‰æ›ã€‚</div>
          <div class="err" id="errA">æ—¥ä»˜ã®å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>
          <div class="badges">
            <span class="badge"><span class="emo">ğŸ’¨</span><span id="t_hint1">OSã‚¿ã‚¤ãƒ—ï¼ˆé¢¨Ã—å††Ã—ã‚´ãƒ ï¼‰ã‚’ç®—å‡º</span></span>
          </div>
          <button id="btnSelf">è¨ºæ–­ / Analyze</button>
        </div>

        <!-- ç›¸æ‰‹ï¼ˆä»»æ„ï¼‰ -->
        <div class="card" style="margin:0">
          <h3 id="t_partner">ç›¸æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆä»»æ„ï¼‰ / Compatibility (Optional)</h3>
          <label id="t_nick2">ç›¸æ‰‹ã®ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆä»»æ„ï¼‰</label>
          <input class="input" type="text" id="nickB" placeholder="ä¾‹ï¼šRin / Optional" />
          <label id="t_birth2">ç›¸æ‰‹ã®ç”Ÿå¹´æœˆæ—¥ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰</label>
          <input class="input" id="dateB" inputmode="numeric" pattern="[0-9]*" autocomplete="bday"
                 placeholder="19940322 / 1994-03-22 / 1994/03/22" />
          <div class="hint" id="t_hintB">ä¸¡æ–¹ã‚ã‚Œã°ç›¸æ€§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
          <div class="err" id="errB">ç›¸æ‰‹ã®æ—¥ä»˜ã®å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>
          <button id="btnBoth">ç›¸æ€§ã¾ã§è¨ºæ–­ / Analyze Both</button>
        </div>
      </div>

      <div class="sep"></div>

      <!-- çµæœ -->
      <div class="result" id="selfBox" hidden>
        <h2 id="t_self_title">ã‚ãªãŸã®çµæœ / Your Result</h2>
        <div class="badges" id="selfBadges"></div>
        <p class="kawaii" id="selfText"></p>
      </div>

      <div class="result" id="pairBox" hidden>
        <h2 id="t_pair_title">ç›¸æ€§çµæœ / Compatibility</h2>
        <div class="badges" id="pairBadges"></div>
        <p class="kawaii" id="pairText"></p>
      </div>

      <div class="sep"></div>
      <div class="center">
        <span class="tag">ğŸ§© Elastic Human OS</span>
        <span class="tag">ğŸ’  Core = Rubber</span>
        <span class="tag">ğŸ’¨ Wind = Flow</span>
        <span class="tag">â­• Circle = Return</span>
      </div>
      <p class="footer" id="t_footer">ã‚¨ãƒ³ã‚¿ãƒ¡è¨ºæ–­ã€‚ä½“æ„Ÿï¼ˆBâ†’Aï¼‰ã‚’ãŸã®ã—ã‚“ã§ã­ã€‚/ This is for fun & reflection.</p>
    </div>
  </div>

<script>
(() => {
  // ===== i18n =====
  const jp = {
    title:"KenGoå¼ï¼šé¢¨Ã—å††Ã—ã‚´ãƒ  è¨ºæ–­",
    lead:"ç”Ÿå¹´æœˆæ—¥ã¯ã€Œ19900504 / 1990-05-04 / 1990/05/04ã€ã€‚ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯ä»»æ„ã€‚ç›¸æ€§ã‚‚åŒç”»é¢ã§ã€‚",
    you:"ã‚ãªãŸ / You", nick1:"ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆä»»æ„ï¼‰", birth1:"ç”Ÿå¹´æœˆæ—¥ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰",
    hintA:"æ•°å­—8æ¡ã€ã¾ãŸã¯åŒºåˆ‡ã‚Šã¤ãã§ã‚‚OKã€‚å…¨è§’ã‚‚è‡ªå‹•å¤‰æ›ã€‚",
    partner:"ç›¸æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆä»»æ„ï¼‰ / Compatibility (Optional)",
    nick2:"ç›¸æ‰‹ã®ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆä»»æ„ï¼‰", birth2:"ç›¸æ‰‹ã®ç”Ÿå¹´æœˆæ—¥ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰",
    hintB:"ä¸¡æ–¹ã‚ã‚Œã°ç›¸æ€§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚",
    hint1:"OSã‚¿ã‚¤ãƒ—ï¼ˆé¢¨Ã—å††Ã—ã‚´ãƒ ï¼‰ã‚’ç®—å‡º",
    btnSelf:"è¨ºæ–­ / Analyze", btnBoth:"ç›¸æ€§ã¾ã§è¨ºæ–­ / Analyze Both",
    selfTitle:"ã‚ãªãŸã®çµæœ / Your Result", pairTitle:"ç›¸æ€§çµæœ / Compatibility",
    footer:"ã‚¨ãƒ³ã‚¿ãƒ¡è¨ºæ–­ã€‚ä½“æ„Ÿï¼ˆBâ†’Aï¼‰ã‚’ãŸã®ã—ã‚“ã§ã­ã€‚/ This is for fun & reflection.",
    err:"æ—¥ä»˜ã®å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚"
  };
  const en = {
    title:"KenGo Method: Wind Ã— Circle Ã— Rubber â€” Typing",
    lead:"Enter 19900504 / 1990-05-04 / 1990/05/04. Nickname optional. Same screen shows compatibility.",
    you:"You", nick1:"Nickname (optional)", birth1:"Date of Birth (free input)",
    hintA:"8 digits or with separators are OK. Full-width digits are auto-normalized.",
    partner:"Compatibility (Optional)",
    nick2:"Partner Nickname (optional)", birth2:"Partner Date of Birth (free input)",
    hintB:"If both birthdays exist, compatibility will be shown.",
    hint1:"Computes your OS (Wind Ã— Circle Ã— Rubber)",
    btnSelf:"Analyze", btnBoth:"Analyze Both",
    selfTitle:"Your Result", pairTitle:"Compatibility",
    footer:"This is for fun & reflection. Enjoy the Bâ†’A flow.",
    err:"Please check the date format."
  };
  let isJP = (navigator.language || "ja").startsWith("ja");
  const $ = (id)=>document.getElementById(id);
  const T = ()=> isJP ? jp : en;
  function applyLang(){
    $("t_title").textContent=T().title; $("t_lead").textContent=T().lead;
    $("t_you").textContent=T().you; $("t_nick1").textContent=T().nick1;
    $("t_birth1").textContent=T().birth1; $("t_hintA").textContent=T().hintA;
    $("t_partner").textContent=T().partner; $("t_nick2").textContent=T().nick2;
    $("t_birth2").textContent=T().birth2; $("t_hintB").textContent=T().hintB;
    $("t_hint1").textContent=T().hint1; $("btnSelf").textContent=T().btnSelf;
    $("btnBoth").textContent=T().btnBoth; $("t_self_title").textContent=T().selfTitle;
    $("t_pair_title").textContent=T().pairTitle; $("t_footer").textContent=T().footer;
    $("errA").textContent=T().err; $("errB").textContent=T().err;
  }
  $("langBtn").addEventListener("click", ()=>{ isJP=!isJP; applyLang(); });
  applyLang();

  // ===== Flexible Date Parserï¼ˆå…¨è§’â†’åŠè§’ï¼è¨˜å·ç„¡è¦–ï¼‰ =====
  function parseFlexibleDate(str){
    if(!str) return null;
    const z2h = String(str).trim().replace(/[ï¼-ï¼™ï¼ï¼ï¼ãƒ¼âˆ’]/g, ch=>{
      const map={"ï¼":"0","ï¼‘":"1","ï¼’":"2","ï¼“":"3","ï¼”":"4","ï¼•":"5","ï¼–":"6","ï¼—":"7","ï¼˜":"8","ï¼™":"9","ï¼":"/","ï¼":"-","ãƒ¼":"-","âˆ’":"-"};
      return map[ch] ?? ch;
    });
    const digits = z2h.replace(/[^\d]/g,"");
    if(digits.length !== 8) return null;
    const y=+digits.slice(0,4), m=+digits.slice(4,6), d=+digits.slice(6,8);
    if(m<1||m>12||d<1||d>31) return null;
    const md=[31,(y%4===0 && (y%100!==0||y%400===0))?29:28,31,30,31,30,31,31,30,31,30,31];
    if(d>md[m-1]) return null;
    return {y,m,d};
  }
  function setError(id, show){ const el=$(id); el.style.display=show?"block":"none"; }

  // ===== ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼è¦ç´ ã‚¿ã‚¤ãƒ— & ç›¸æ€§ =====
  const ELEMENTS=["WIND","FIRE","WATER","EARTH"];
  const EMOJI={WIND:"ğŸ’¨", FIRE:"ğŸ”¥", WATER:"ğŸŒŠ", EARTH:"ğŸª¨"};
  const JP_NAME={WIND:"é¢¨", FIRE:"ç«", WATER:"æ°´", EARTH:"åœ°"};
  const TAG_JP={
    WIND:"é¢¨ãŒé€šã‚‹ã¨ä¸–ç•ŒãŒè»½ã„ã€‚åˆå›³ã¯â€œæ·±ã„å‘¼å¸â€ã€‚",
    FIRE:"ç«ã¯æ„å¿—ã€‚ç‚¹ç«ã™ã‚Œã°å‘¨å›²ã‚‚æ¸©ã‹ãæ˜ã‚‹ã„ã€‚",
    WATER:"æ°´ã¯ä½™ç™½ã€‚å—ã‘ã¦æº¶ã‹ã—ã€é™ã‹ã«æº€ãŸã™ã€‚",
    EARTH:"åœ°ã¯å®‰å®šã€‚åœŸå°ãŒæ•´ãˆã°ã™ã¹ã¦ãŒè‚²ã¤ã€‚"
  };
  const TAG_EN={
    WIND:"When wind flows, the world feels light. Your cue is deeper breathing.",
    FIRE:"Fire is will. Once ignited, others warm and see further.",
    WATER:"Water is space. You dissolve pressure and fill quietly.",
    EARTH:"Earth is stability. With foundation set, everything grows."
  };
  const COMP={
    WIND:{WIND:"GOOD",FIRE:"GREAT",WATER:"GOOD",EARTH:"NEUTRAL"},
    FIRE:{WIND:"GREAT",FIRE:"SPICY",WATER:"GOOD",EARTH:"GOOD"},
    WATER:{WIND:"GOOD",FIRE:"GOOD",WATER:"GOOD",EARTH:"GREAT"},
    EARTH:{WIND:"NEUTRAL",FIRE:"GOOD",WATER:"GREAT",EARTH:"GOOD"}
  };
  const COMP_EMO={GREAT:"ğŸ’",GOOD:"ğŸ’«",NEUTRAL:"ğŸŒ—",SPICY:"ğŸŒ¶ï¸"};
  const COMP_JP={
    GREAT:"æœ€é«˜ã®è¿½ã„é¢¨ã€‚æ”¾ã£ã¦ãŠã„ã¦ã‚‚å›ã‚‹ç›¸æ€§ã€‚",
    GOOD:"å¿ƒåœ°ã‚ˆãä¼¸ã³ã‚‹é–¢ä¿‚ã€‚å°ã•ãªåˆå›³ã§ååˆ†ã€‚",
    NEUTRAL:"å¯ã‚‚ä¸å¯ã‚‚ãªã—ã€‚åˆå›³ã®â€œå„€å¼â€ã‚’æ±ºã‚ã‚‹ã¨å®‰å®šã€‚",
    SPICY:"åˆºæ¿€çš„ã€‚ãƒšãƒ¼ã‚¹é…æ…®ã¨â€œåˆå›³ã®ç´„æŸâ€ãŒéµã€‚"
  };
  const COMP_EN={
    GREAT:"Top-tier tailwind. It turns by itself.",
    GOOD:"Comfortable growth. Small signals are enough.",
    NEUTRAL:"So-so. Set a little ritual cue to stabilize.",
    SPICY:"Spicy & fun. Pace care + signal pact are keys."
  };

  function elementFromYMD(ymd){
    // ã‚·ãƒ³ãƒ—ãƒ«ãªâ€œéŠã³â€ã®åˆ†é¡ï¼š (month + day) % 4
    return ELEMENTS[(ymd.m + ymd.d) % 4];
  }
  function fancyName(el){ return isJP ? `${JP_NAME[el]}ï¼ˆ${el}ï¼‰` : el; }
  function buildSelfText(name, el){
    const line = isJP ? TAG_JP[el] : TAG_EN[el];
    const who = name ? (isJP?`${name} ã¯`:`${name} is`) : (isJP?`ã‚ãªãŸã¯`:`You are`);
    const headline = {
      WIND:isJP?"ã—ãªã‚„ã‹ãªé¢¨ï¼å—ã‘è¿”ã™é”äºº":"Supple Wind / Master of Return",
      FIRE:isJP?"ç¯ã™ç«ï¼ç‚¹ç«ã®å°ç·š":"Kindling Fire / Sparkline",
      WATER:isJP?"ã‚„ã‚ã‚‰ã‹ãªæ°´ï¼ä½™ç™½ã®é­”æ³•":"Gentle Water / Space Maker",
      EARTH:isJP?"ã‚†ã‚‹ããªã„åœ°ï¼åœŸå°ãƒ“ãƒ«ãƒ€ãƒ¼":"Steady Earth / Ground Builder",
    }[el];
    const tip = isJP
      ? "åˆå›³ï¼šå‘¼å¸ãƒ»å§¿å‹¢ãƒ»ä¸€åº¦ç«‹ã¡æ­¢ã¾ã‚‹ã€‚å¤–åœ§ã¯â€œå¸åâ†’èª¿æ•´â†’è¿”ã™â€ã€‚"
      : "Cue: breath, posture, tiny pause. Handle pressure with â€œabsorb â†’ modulate â†’ reflect.â€";
    return `ğŸª„ <b>${who} ${fancyName(el)}</b>ã€‚<br>${line}<br><br><b>ã€${headline}ã€‘</b><br>${tip}`;
  }
  function buildSelfBadges(el){
    const box=$("selfBadges"); box.innerHTML="";
    const add=(html)=>{ const s=document.createElement("span"); s.className="badge"; s.innerHTML=html; box.appendChild(s); };
    add(`<span class="emo">${EMOJI[el]}</span> <b>${fancyName(el)}</b>`);
    add(`<span class="emo">ğŸ’ </span> Core=Rubber`);
    add(`<span class="emo">ğŸ’¨</span> Wind=Flow`);
    add(`<span class="emo">â­•</span> Circle=Return`);
  }
  function buildPair(elA, elB, nameA, nameB){
    const rank = COMP[elA][elB];
    const emo = COMP_EMO[rank];
    const line = isJP ? COMP_JP[rank] : COMP_EN[rank];
    const whoA = nameA || (isJP?"ã‚ãªãŸ":"You");
    const whoB = nameB || (isJP?"ç›¸æ‰‹":"Partner");
    const lead = isJP ? "ãµãŸã‚Šã®å…ƒç´ " : "Elements";
    const cue = isJP
      ? "åˆå›³ã¥ãã‚Šï¼šâ‘ åˆå›³ã®ã“ã¨ã° â‘¡ä¸€åº¦æ·±å‘¼å¸ â‘¢â€œæˆ»ã‚‹â€ã®åˆè¨€è‘‰ï¼ˆã‚„ã£ã¨ã ã­ï¼‰"
      : "Ritual cues: (1) signal word, (2) shared deep breath, (3) a return password (Finally.)";
    $("pairBadges").innerHTML =
      `<span class="badge"><span class="emo">${EMOJI[elA]}</span>${whoA}: ${fancyName(elA)}</span>
       <span class="badge"><span class="emo">${EMOJI[elB]}</span>${whoB}: ${fancyName(elB)}</span>
       <span class="badge"><span class="emo">${emo}</span>${lead}: ${rank}</span>`;
    $("pairText").innerHTML =
      `${emo} <b>${rank}</b> â€” ${line}<br><br><b>${isJP?"ä½¿ã„æ–¹":"How to play"}</b>ï¼š${cue}`;
  }

  function hookValidate(inputId, errId){
    const el=$(inputId);
    el.addEventListener("blur", ()=>{
      const ok = !!parseFlexibleDate(el.value);
      setError(errId, !ok && el.value.trim()!=="");
    });
  }
  hookValidate("dateA","errA"); hookValidate("dateB","errB");

  $("btnSelf").addEventListener("click", ()=>{
    const ymd=parseFlexibleDate($("dateA").value);
    if(!ymd){ setError("errA", true); return; }
    setError("errA", false);
    const el=elementFromYMD(ymd);
    buildSelfBadges(el);
    $("selfText").innerHTML = buildSelfText($("nickA").value.trim(), el);
    $("selfBox").hidden=false; $("pairBox").hidden=true;
  });

  $("btnBoth").addEventListener("click", ()=>{
    const A=parseFlexibleDate($("dateA").value), B=parseFlexibleDate($("dateB").value);
    if(!A){ setError("errA", true); } if(!B){ setError("errB", true); }
    if(!A||!B) return;
    setError("errA", false); setError("errB", false);
    const elA=elementFromYMD(A), elB=elementFromYMD(B);
    buildSelfBadges(elA);
    $("selfText").innerHTML = buildSelfText($("nickA").value.trim(), elA);
    $("selfBox").hidden=false;
    buildPair(elA, elB, $("nickA").value.trim(), $("nickB").value.trim());
    $("pairBox").hidden=false;
    setTimeout(()=>{ $("pairBox").scrollIntoView({behavior:"smooth"}); }, 80);
  });

  // è¨€èªåˆ‡æ›¿
  $("langBtn").addEventListener("click", ()=>{ isJP=!isJP; applyLang(); });
})();
</script>
</body>
</html>