<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Beyond Time - æ™‚ç©ºã‚’è¶…ãˆãŸè¨ºæ–­</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:'Noto Sans JP','Orbitron',sans-serif;background:#000;min-height:100vh;color:#fff;overflow-x:hidden;touch-action:manipulation}
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 50%,#1a0a3a 0%,#000 100%);z-index:-2}
.stars{position:fixed;width:100%;height:100%;z-index:-1;pointer-events:none}
.star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;animation:twinkle 3s ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:0}50%{opacity:1}}
.container{max-width:900px;margin:0 auto;padding:20px;position:relative;z-index:1}
.header{text-align:center;margin-bottom:40px;padding:40px 20px;background:rgba(122,92,255,.1);border-radius:20px;border:2px solid rgba(122,92,255,.4)}
.logo{font-size:clamp(2.5rem,8vw,4rem);background:linear-gradient(135deg,#7a5cff 0%,#00d4ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:900;margin-bottom:20px;letter-spacing:2px}
.tagline{font-size:clamp(1rem,3vw,1.3rem);color:rgba(255,255,255,.8);font-weight:400;line-height:1.8}
.quiz-section{background:rgba(0,0,0,.8);padding:30px;border-radius:20px;margin:30px 0;border:2px solid rgba(122,92,255,.5)}
.q-title{font-size:clamp(1.2rem,4vw,1.6rem);color:#7a5cff;font-weight:900;margin-bottom:25px;text-align:center;line-height:1.6}
.options{display:grid;grid-template-columns:1fr;gap:12px;margin-bottom:30px}
.opt{background:rgba(122,92,255,.15);border:2px solid rgba(122,92,255,.4);padding:18px 20px;border-radius:12px;cursor:pointer;transition:all .3s;font-size:clamp(0.9rem,2.5vw,1.05rem);color:rgba(255,255,255,.9);font-weight:600;text-align:left;width:100%;display:block;-webkit-user-select:none;user-select:none}
.opt:hover{background:rgba(122,92,255,.3);border-color:rgba(122,92,255,.7);transform:translateX(5px)}
.opt.selected{background:rgba(0,212,255,.3);border-color:#00d4ff;box-shadow:0 0 20px rgba(0,212,255,.5)}
.btn-submit{background:linear-gradient(135deg,#7a5cff 0%,#00d4ff 100%);color:#fff;border:none;padding:20px;border-radius:15px;font-size:clamp(1.1rem,3vw,1.3rem);font-weight:900;cursor:pointer;width:100%;margin-top:20px;transition:all .3s;box-shadow:0 5px 30px rgba(122,92,255,.6)}
.btn-submit:hover{transform:translateY(-3px);box-shadow:0 8px 40px rgba(122,92,255,.8)}
.btn-submit:disabled{opacity:.5;cursor:not-allowed}
.diagnosis-grid{display:grid;grid-template-columns:1fr;gap:20px;margin:40px 0}
@media(min-width:700px){.diagnosis-grid{grid-template-columns:repeat(3,1fr)}}
.diagnosis-card{background:rgba(0,0,0,.9);padding:30px;border-radius:15px;border:2px solid rgba(122,92,255,.4);text-align:center;transition:all .3s;cursor:pointer}
.diagnosis-card:hover{transform:translateY(-5px);border-color:rgba(122,92,255,.7);box-shadow:0 10px 40px rgba(122,92,255,.5)}
.card-icon{font-size:3rem;margin-bottom:15px}
.card-title{font-size:1.4rem;color:#7a5cff;font-weight:900;margin-bottom:10px}
.card-price{font-size:2rem;color:#00d4ff;font-weight:900;margin:15px 0}
.card-desc{font-size:.95rem;color:rgba(255,255,255,.7);line-height:1.7}
.btn-diag{background:linear-gradient(135deg,#7a5cff 0%,#00d4ff 100%);color:#fff;border:none;padding:15px;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;width:100%;margin-top:15px;transition:all .3s}
.btn-diag:hover{transform:translateY(-2px)}
.results{display:none;background:rgba(0,0,0,.95);padding:35px;border-radius:20px;margin-top:30px;border:2px solid rgba(0,212,255,.6)}
.result-title{font-size:clamp(1.5rem,4vw,2rem);color:#00d4ff;font-weight:900;margin-bottom:25px;text-align:center}
.result-item{background:rgba(122,92,255,.1);padding:20px;border-radius:12px;margin:15px 0;border-left:4px solid #7a5cff}
.result-label{font-size:1.1rem;color:#7a5cff;font-weight:700;margin-bottom:8px}
.result-text{font-size:1rem;color:rgba(255,255,255,.9);line-height:1.8}
</style>
</head>
<body>
<div class="stars" id="stars"></div>

<div class="container">
<header class="header">
<h1 class="logo">BEYOND TIME</h1>
<p class="tagline">
æ™‚ç©ºã‚’è¶…ãˆãŸè¨ºæ–­ | ã‚ãªãŸã®å­˜åœ¨ã‚³ãƒ¼ãƒ‰ã‚’è§£èª­<br>
AIã¨é‡å­ç‰©ç†å­¦ãŒç¹”ã‚Šãªã™ã€æœªçŸ¥ã®è‡ªå·±ç™ºè¦‹
</p>
</header>

<section class="quiz-section" id="quizSection">
<h2 class="q-title">ğŸŒŒ ç„¡æ–™ç°¡æ˜“è¨ºæ–­ï¼ˆ3å•ï¼‰</h2>

<div class="q-block">
<p class="q-title">Q1: å¤§åˆ‡ãªæ±ºæ–­ã‚’ã™ã‚‹æ™‚ã€ã‚ãªãŸã¯ï¼Ÿ</p>
<div class="options">
<button class="opt" data-q="1" data-v="1">ç›´æ„Ÿã‚’æœ€å„ªå…ˆã™ã‚‹</button>
<button class="opt" data-q="1" data-v="2">è«–ç†çš„ã«åˆ†æã™ã‚‹</button>
<button class="opt" data-q="1" data-v="3">ä»–è€…ã®æ„è¦‹ã‚’èã</button>
</div>
</div>

<div class="q-block">
<p class="q-title">Q2: å›°é›£ã«ç›´é¢ã—ãŸæ™‚ã€ã‚ãªãŸã®åå¿œã¯ï¼Ÿ</p>
<div class="options">
<button class="opt" data-q="2" data-v="1">æ­£é¢ã‹ã‚‰æŒ‘æˆ¦ã™ã‚‹</button>
<button class="opt" data-q="2" data-v="2">åˆ¥ã®æ–¹æ³•ã‚’æ¢ã™</button>
<button class="opt" data-q="2" data-v="3">ç«‹ã¡æ­¢ã¾ã£ã¦è€ƒãˆã‚‹</button>
</div>
</div>

<div class="q-block">
<p class="q-title">Q3: ç†æƒ³ã®æœªæ¥ã¨ã¯ï¼Ÿ</p>
<div class="options">
<button class="opt" data-q="3" data-v="1">è‡ªç”±ã§å‰µé€ çš„ãªäººç”Ÿ</button>
<button class="opt" data-q="3" data-v="2">å®‰å®šã¨æˆé•·ã®ä¸¡ç«‹</button>
<button class="opt" data-q="3" data-v="3">äººã€…ã¨æ·±ã„ç¹‹ãŒã‚Šã‚’æŒã¤</button>
</div>
</div>

<button class="btn-submit" id="btnSubmit" onclick="showResults()">ğŸ”® è¨ºæ–­çµæœã‚’è¦‹ã‚‹</button>
</section>

<div class="results" id="results">
<h2 class="result-title">âœ¨ ã‚ãªãŸã®å­˜åœ¨ã‚¿ã‚¤ãƒ—</h2>
<div id="resultContent"></div>
</div>

<section style="margin-top:60px">
<h2 class="result-title" style="color:#7a5cff;margin-bottom:30px">ğŸ¯ æœ‰æ–™è¨ºæ–­ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
<div class="diagnosis-grid">

<div class="diagnosis-card">
<div class="card-icon">ğŸ‚</div>
<h3 class="card-title">èª•ç”Ÿæ—¥è¨ºæ–­</h3>
<div class="card-price">Â¥100</div>
<p class="card-desc">
ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰é‹å‘½æ•°ã‚’ç®—å‡ºã€‚<br>
æ‰èƒ½ãƒ»ç›¸æ€§ãƒ»ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰åˆ†æ
</p>
<button class="btn-diag" onclick="location.href='birthday-diagnosis.html'">è¨ºæ–­ã™ã‚‹</button>
</div>

<div class="diagnosis-card">
<div class="card-icon">ğŸ”®</div>
<h3 class="card-title">Premiumè¨ºæ–­</h3>
<div class="card-price">Â¥980</div>
<p class="card-desc">
15å•+è©³ç´°åˆ†æã€‚å­˜åœ¨ã‚³ãƒ¼ãƒ‰ãƒ»<br>
3ã¤ã®ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰å®Œå…¨è§£èª­
</p>
<button class="btn-diag" onclick="location.href='payment.html?plan=premium'">è¨ºæ–­ã™ã‚‹</button>
</div>

<div class="diagnosis-card">
<div class="card-icon">âš¡</div>
<h3 class="card-title">Restoration</h3>
<div class="card-price">Â¥29,800</div>
<p class="card-desc">
ç©¶æ¥µã®è‡ªå·±ä¿®å¾©ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚<br>
å…¨12é …ç›®+å®Œå…¨ã‚«ã‚¹ã‚¿ãƒ åˆ†æ
</p>
<button class="btn-diag" onclick="location.href='payment.html?plan=restoration'">è¨ºæ–­ã™ã‚‹</button>
</div>

</div>
</section>
</div>

<script>
const ans = {};

function createStars(){
  const container = document.getElementById('stars');
  for(let i=0; i<150; i++){
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.animationDelay = Math.random() * 3 + 's';
    container.appendChild(star);
  }
}

// ğŸ”¥ å¼·åŒ–ç‰ˆï¼šé¸æŠè‚¢ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
document.addEventListener('DOMContentLoaded', function(){
  console.log('ğŸ”¥ ã‚¤ãƒ™ãƒ³ãƒˆåˆæœŸåŒ–é–‹å§‹');
  
  const allOptions = document.querySelectorAll('.opt');
  console.log('ğŸ“‹ é¸æŠè‚¢æ•°:', allOptions.length);
  
  allOptions.forEach((btn, index) => {
    console.log(`ğŸ¯ ãƒœã‚¿ãƒ³${index+1}è¨­å®šä¸­`);
    
    // ã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚¯ãƒªã‚¢
    btn.onclick = null;
    btn.ontouchstart = null;
    btn.ontouchend = null;
    
    // æ–°ã—ã„ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    btn.addEventListener('click', function(e){
      e.preventDefault();
      e.stopPropagation();
      
      const q = this.getAttribute('data-q');
      const v = parseInt(this.getAttribute('data-v'));
      
      console.log(`âœ… Q${q} = ${v} ã‚¯ãƒªãƒƒã‚¯æ¤œå‡º`);
      
      ans['q'+q] = v;
      
      // åŒã˜è³ªå•ã®ä»–ã®é¸æŠè‚¢ã‚’è§£é™¤
      const parentOptions = this.closest('.options');
      const siblings = parentOptions.querySelectorAll('.opt');
      siblings.forEach(s => s.classList.remove('selected'));
      
      // é¸æŠçŠ¶æ…‹ã«
      this.classList.add('selected');
      
      console.log('âœ… é¸æŠå®Œäº†', ans);
      
      // ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–ãƒã‚§ãƒƒã‚¯
      checkSubmitButton();
    });
    
    // ã‚¿ãƒƒãƒã‚¤ãƒ™ãƒ³ãƒˆ
    btn.addEventListener('touchstart', function(e){
      e.preventDefault();
      this.click();
    });
  });
  
  console.log('âœ… åˆæœŸåŒ–å®Œäº†');
  createStars();
});

function checkSubmitButton(){
  const btn = document.getElementById('btnSubmit');
  if(ans.q1 && ans.q2 && ans.q3){
    btn.disabled = false;
    btn.style.opacity = '1';
    console.log('âœ… é€ä¿¡ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–');
  } else {
    btn.disabled = true;
    btn.style.opacity = '0.5';
  }
}

function showResults(){
  if(!ans.q1 || !ans.q2 || !ans.q3){
    alert('ã™ã¹ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„');
    return;
  }
  
  console.log('ğŸ“Š çµæœè¡¨ç¤º:', ans);
  
  const score = ans.q1 + ans.q2 + ans.q3;
  let type, desc;
  
  if(score <= 4){
    type = 'ğŸ”¥ å‰µé€ è€…ã‚¿ã‚¤ãƒ—';
    desc = 'ç›´æ„Ÿã¨å‰µé€ æ€§ã«å¯Œã¿ã€æ–°ã—ã„é“ã‚’åˆ‡ã‚Šé–‹ãåŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚èŠ¸è¡“ã‚„é©æ–°çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§çœŸä¾¡ã‚’ç™ºæ®ã—ã¾ã™ã€‚';
  } else if(score <= 6){
    type = 'ğŸŒŸ èª¿å’Œè€…ã‚¿ã‚¤ãƒ—';
    desc = 'ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã«å„ªã‚Œã€äººã€…ã‚’ç¹‹ãæ¶ã‘æ©‹ã¨ãªã‚‹å­˜åœ¨ã€‚ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„èª¿æ•´å½¹ã§è¼ãã¾ã™ã€‚';
  } else {
    type = 'ğŸ’ æ¢æ±‚è€…ã‚¿ã‚¤ãƒ—';
    desc = 'æ·±ã„æ€è€ƒã¨åˆ†æåŠ›ã§çœŸå®Ÿã‚’è¿½æ±‚ã™ã‚‹ã€‚ç ”ç©¶ã‚„å°‚é–€åˆ†é‡ã§å“è¶Šã—ãŸæˆæœã‚’å‡ºã™ç´ è³ªãŒã‚ã‚Šã¾ã™ã€‚';
  }
  
  document.getElementById('resultContent').innerHTML = `
    <div class="result-item">
      <div class="result-label">${type}</div>
      <div class="result-text">${desc}</div>
    </div>
    <div class="result-item">
      <div class="result-label">ğŸ¯ ã‚ãªãŸã¸ã®ææ¡ˆ</div>
      <div class="result-text">
        ã•ã‚‰ã«è©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯ã€<strong>Premiumè¨ºæ–­ï¼ˆÂ¥980ï¼‰</strong>ã¾ãŸã¯<strong>èª•ç”Ÿæ—¥è¨ºæ–­ï¼ˆÂ¥100ï¼‰</strong>ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚
        ã‚ãªãŸã®å­˜åœ¨ã‚³ãƒ¼ãƒ‰ã¨3ã¤ã®ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚
      </div>
    </div>
  `;
  
  document.getElementById('results').style.display = 'block';
  document.getElementById('results').scrollIntoView({behavior:'smooth'});
}
</script>
</body>
</html>