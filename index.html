<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>粋風録 IKI CARD｜KenGo式（生年月日だけでOK）</title>
<meta name="theme-color" content="#fffdf7">
<style>
:root{
  --paper:#fffdf7; --ink:#0e1a2b; --mut:#6a7686;
  --edo:#12314e; --line:#e9e4d9; --gold:#b48a2a;
  --bar:#f3efe6; --blue:#355e8a; --green:#2c9d7a; --rose:#9b4064; --vio:#6a5acd;
  --wind:#5aaad6; --fire:#d26a4e; --earth:#8a7a54; --water:#4aa3a9;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--paper);color:var(--ink);
  font-family:"Yu Mincho","Hiragino Mincho ProN","Noto Serif JP",serif;letter-spacing:.2px}
.wrap{max-width:960px;margin:0 auto;padding:18px 16px}
.header{display:flex;justify-content:space-between;align-items:flex-end;border-bottom:1px solid var(--line);padding-bottom:10px}
.brand{display:flex;align-items:flex-end;gap:14px}
.sig{font-size:24px;font-weight:700;line-height:1}
.kintsugi{height:28px;width:2px;background:linear-gradient(180deg,transparent, var(--gold) 20%, transparent 80%);border-radius:2px}
.sub{color:var(--mut);font-size:12px;margin-top:6px}
.lang button{border:0;background:none;color:var(--mut);font-weight:700;margin-left:10px;cursor:pointer}
.lang .on{color:var(--edo);border-bottom:2px solid var(--gold)}

.card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:14px}
.title{font-size:14px;color:var(--mut);margin:0 0 8px 4px}
label{display:block;margin:8px 4px 4px;font-weight:700;font-size:14px}
.input,select{width:100%;font-family:inherit;font-size:18px;border:1.5px solid var(--line);border-radius:12px;padding:10px 12px;background:#fff}
.input::placeholder{color:#a8a395}
.btn{width:100%;border:0;border-radius:12px;padding:12px 14px;margin-top:10px;
  background:#fff; color:var(--edo); font-weight:800; font-size:16px;border:1.5px solid var(--edo)}
.btn:active{transform:translateY(1px)}
.grid{display:grid;gap:12px}
@media(min-width:840px){.grid2{grid-template-columns:1fr 1fr}}

.pills{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.pillBtn{border:1.5px solid var(--line);background:#fff;border-radius:999px;padding:6px 12px;cursor:pointer;font-weight:800}
.pillBtn.on{border-color:var(--edo);background:#f6f9ff}

.section{display:grid;gap:12px;margin-top:14px}
@media(min-width:980px){.board{grid-template-columns:380px 1fr}}
.kv{display:grid;grid-template-columns:88px 1fr;gap:12px;align-items:center}
.mon{width:88px;height:88px;border-radius:12px;border:1px solid var(--line);display:grid;place-items:center;
  background:radial-gradient(100% 100% at 50% 50%,#fff 0,#fff 62%,#f8f3e6 63%,#fff 70%); font-size:34px;color:var(--edo);font-weight:900}
dl{margin:0} dt{color:var(--mut);font-size:12px} dd{margin:0 0 6px 0;font-size:18px}
.badges{display:flex;gap:8px;flex-wrap:wrap}
.badge{border:1px solid var(--line);border-radius:99px;padding:5px 10px;font-size:12px;background:#fbfaf6}

.stat{display:grid;grid-template-columns:120px 1fr 56px;gap:10px;align-items:center;margin:8px 0}
.bar{height:14px;background:var(--bar);border-radius:9px;overflow:hidden;border:1px solid var(--line)}
.fill{height:100%;width:0;transition:width .45s ease}
.pct{text-align:right;font-variant-numeric:tabular-nums}

.six{display:grid;gap:8px}
.row{display:grid;grid-template-columns:100px 1fr 44px;gap:8px;align-items:center}
.name{color:var(--mut);font-size:13px}
.thin{height:10px;background:#f6f2e9;border:1px solid var(--line);border-radius:8px;overflow:hidden}
.tfill{height:100%;width:0;transition:width .5s ease;background:linear-gradient(90deg,#8fb5d6,#d6c28a)}

.tabs{display:flex;gap:8px;margin-top:4px;flex-wrap:wrap}
.tab{flex:1 1 120px;text-align:center;padding:10px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer;font-weight:800}
.tab.on{border-color:var(--edo);background:#f6f9ff}
.panel{border:1px solid var(--line);border-radius:12px;padding:12px;background:#fff;margin-top:8px}

.ring{display:grid;place-items:center}
.small{color:var(--mut);font-size:12px}
.hint{border-left:3px solid var(--gold);padding:8px 10px;background:#fffcf2;border-radius:8px}
.footer{color:var(--mut);font-size:12px;text-align:center;margin:18px 0 6px}
.toast{position:fixed;left:50%;top:10px;transform:translateX(-50%) translateY(-14px);
  background:#fff;border:1px solid var(--line);border-radius:12px;padding:8px 12px;opacity:0;transition:.35s;font-weight:800;z-index:5}
.toast.in{opacity:1;transform:translateX(-50%) translateY(0)}

.flex2{display:grid;gap:12px}
@media(min-width:980px){.flex2{grid-template-columns:1fr 1fr}}
.note{margin:8px 0 0;color:var(--mut);font-size:12px}
.kv2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.k{font-weight:800}
.pill{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:4px 10px;background:#fbfaf6;font-size:12px;margin-right:6px}

/* エレメントタグ */
.elem{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);border-radius:999px;padding:6px 12px;font-weight:900}
.e-wind{color:#0b3a52;background:linear-gradient(90deg,#eaf6ff,#f9fbff)}
.e-fire{color:#5a2318;background:linear-gradient(90deg,#fff0eb,#fff8f6)}
.e-earth{color:#3d341d;background:linear-gradient(90deg,#faf6ea,#fffdf7)}
.e-water{color:#083a3e;background:linear-gradient(90deg,#e9fbfd,#f7ffff)}
.dot{width:8px;height:8px;border-radius:999px}
.dot.wind{background:var(--wind)} .dot.fire{background:var(--fire)}
.dot.earth{background:var(--earth)} .dot.water{background:var(--water)}
</style>
</head>
<body>
<div id="toast" class="toast" aria-live="polite">生成しました。</div>

<div class="wrap">
  <div class="header">
    <div class="brand">
      <div class="sig">粋風録 <span style="font-size:14px;color:var(--mut)">– IKI CARD</span></div>
      <div class="kintsugi" aria-hidden="true"></div>
    </div>
    <div class="lang">
      <button id="jaBtn" class="on">日本語</button>
      <button id="enBtn">EN</button>
    </div>
  </div>

  <div class="card grid grid2">
    <div>
      <p class="title" id="t_you">▶ あなた（生年月日だけでOK）</p>
      <label id="t_birth">生年月日（必須）</label>
      <input id="dateA" class="input" inputmode="numeric" placeholder="19900504 / 1990-05-04 / 1990/05/04">
      <label id="t_nick">呼び名（任意）</label>
      <input id="nickA" class="input" placeholder="KenGo / 旅人（任意）">
      <label id="t_gender">性別（任意・記号）</label>
      <div class="pills" role="group" aria-label="gender">
        <button class="pillBtn on" data-g="◎">◎</button>
        <button class="pillBtn" data-g="♂">♂</button>
        <button class="pillBtn" data-g="♀">♀</button>
        <button class="pillBtn" data-g="⚧">⚧</button>
      </div>
      <label id="t_theme">好きなアニメ（任意・雰囲気）</label>
      <select id="themeSel">
        <option value="none">標準（粋）</option>
        <option value="one">海の冒険（決意・仲間）</option>
        <option value="ninja">忍の道（間合い・修行）</option>
        <option value="slayer">呼吸の剣（家族・誠実）</option>
        <option value="sphere">球の戦士（気と覚醒）</option>
        <option value="spell">呪の理（術式・領域）</option>
      </select>
      <button id="btnSelf" class="btn">粋札をつくる</button>
      <div id="errA" class="small" style="color:#a2273b;display:none">日付の形式が正しくありません。</div>
    </div>

    <div>
      <p class="title" id="t_pair">▶ 相性（任意）</p>
      <label id="t_birth2">相手の生年月日（任意）</label>
      <input id="dateB" class="input" inputmode="numeric" placeholder="19940322 など">
      <label id="t_nick2">相手の呼び名（任意）</label>
      <input id="nickB" class="input" placeholder="相棒 / 友人（任意）">
      <label id="t_gender2">相手の性別（任意）</label>
      <div class="pills" role="group" aria-label="genderB">
        <button class="pillBtn on" data-gb="◎">◎</button>
        <button class="pillBtn" data-gb="♂">♂</button>
        <button class="pillBtn" data-gb="♀">♀</button>
        <button class="pillBtn" data-gb="⚧">⚧</button>
      </div>
      <button id="btnBoth" class="btn">粋札＋相性</button>
      <div id="errB" class="small" style="color:#a2273b;display:none">日付の形式が正しくありません。</div>
    </div>
  </div>

  <div id="board" class="section board" hidden>
    <div>
      <div class="card">
        <p class="title" id="t_char">▶ しつらえ</p>
        <div class="kv">
          <div id="mon" class="mon">◎</div>
          <div>
            <dl>
              <dt id="t_name">名</dt><dd id="cName">—</dd>
              <dt id="t_class">流儀</dt><dd id="cClass">—</dd>
              <dt id="t_title">称</dt><dd id="cTitle">—</dd>
            </dl>
            <div id="badges" class="badges"></div>
          </div>
        </div>
        <div style="margin-top:8px">
          <span id="elemTag" class="elem e-wind"><span class="dot wind"></span><span id="elemText">WIND（風）</span></span>
        </div>
      </div>

      <div class="card">
        <p class="title" id="t_basic">▶ 基本</p>
        <div class="stat"><div id="l_hp">安定（HP）</div><div class="bar"><div id="hp" class="fill" style="background:linear-gradient(90deg,#d5c38e,#355e8a)"></div></div><div id="hpv" class="pct">—%</div></div>
        <div class="stat"><div id="l_mp">視点（MP）</div><div class="bar"><div id="mp" class="fill" style="background:linear-gradient(90deg,#8fb5d6,#355e8a)"></div></div><div id="mpv" class="pct">—%</div></div>
        <div class="stat"><div id="l_sp">機動（SP）</div><div class="bar"><div id="sp" class="fill" style="background:linear-gradient(90deg,#6fbfa2,#2c9d7a)"></div></div><div id="spv" class="pct">—%</div></div>
      </div>
    </div>

    <div>
      <div class="tabs">
        <div id="tabS" class="tab on">指標</div>
        <div id="tabE" class="tab">専用カード</div>
        <div id="tabC" class="tab">相性</div>
      </div>

      <div id="panS" class="panel">
        <p class="title" id="t_six">▶ 六つの気配（％）</p>
        <div id="six" class="six"></div>
        <div class="hint" style="margin-top:8px"><div id="hint" class="small">—</div></div>
      </div>

      <div id="panE" class="panel" style="display:none">
        <div class="flex2">
          <div class="card">
            <p class="title">▶ あだ名</p>
            <div id="aka" style="font-size:20px;font-weight:800">—</div>
            <div class="note" id="akaNote">—</div>
          </div>
          <div class="card">
            <p class="title">▶ 専用合体技</p>
            <div id="combo" style="font-size:18px;font-weight:800">—</div>
            <div class="note" id="comboNote">—</div>
          </div>
        </div>
        <div class="flex2">
          <div class="card">
            <p class="title">▶ こういうの気をつけて</p>
            <ul id="care" style="margin:6px 0 0 18px;padding:0"></ul>
          </div>
          <div class="card">
            <p class="title">▶ 人と違う特徴</p>
            <div id="uniq" class="kv2">
              <div><span class="k">強み</span><div id="uStrong">—</div></div>
              <div><span class="k">出方</span><div id="uShow">—</div></div>
            </div>
          </div>
        </div>
        <div class="card">
          <p class="title">▶ 偉人OSマッチ（雰囲気が近い）</p>
          <div id="greats"></div>
          <div class="note">※歴史考証ではなく「OSの雰囲気の近さ」推定。</div>
        </div>
      </div>

      <div id="panC" class="panel" style="display:none">
        <p class="title">▶ 縁の環</p>
        <div class="ring">
          <svg id="ring" width="240" height="240" viewBox="0 0 240 240">
            <circle cx="120" cy="120" r="90" fill="none" stroke="#efe7d8" stroke-width="10"/>
            <path id="arc" d="" stroke="url(#g)" stroke-width="10" fill="none" stroke-linecap="round"/>
            <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0%" stop-color="#355e8a"/><stop offset="100%" stop-color="#b48a2a"/></linearGradient></defs>
            <text id="score" x="120" y="129" text-anchor="middle" font-size="26" font-family="Inter,system-ui" fill="#0e1a2b" font-weight="800">--%</text>
          </svg>
        </div>
        <div class="small" id="pairText" style="margin-top:8px">—</div>
      </div>
    </div>
  </div>

  <div class="footer">© KenGo System — 生年月日だけでいい。風は外に、円は内に。</div>
</div>

<script>
/* ===== 言語 ===== */
const L = {
  ja:{
    you:"▶ あなた（生年月日だけでOK）", pair:"▶ 相性（任意）",
    birth:"生年月日（必須）", nick:"呼び名（任意）", nick2:"相手の呼び名（任意）",
    birth2:"相手の生年月日（任意）", gen:"粋札をつくる", gen2:"粋札＋相性",
    g:"性別（任意・記号）", g2:"相手の性別（任意）", theme:"好きなアニメ（任意・雰囲気）",
    badDate:"日付の形式が正しくありません。", char:"▶ しつらえ", name:"名", cls:"流儀", ttl:"称",
    basic:"▶ 基本", hp:"安定（HP）", mp:"視点（MP）", sp:"機動（SP）",
    tabS:"指標", tabE:"専用カード", tabC:"相性", six:"▶ 六つの気配（％）",
    pair:(a,b,p)=>`${a} × ${b} は <b>${p}%</b>。— 合わせ方は「間」。高い日は歩幅が勝手に揃う。`,
    bars:["円","風","核","間","和","返"],
    hintsJA:[
      "円が高い。拠り所を自分に置けば景色が澄む。",
      "風が良い。まず一歩、流れは後から整う。",
      "核が堅牢。折れぬ前提で設計を。",
      "間が美しい。速度より“間合”。",
      "和が広い。場の通訳が似合う。",
      "返が速い。痛み→糧の反転が得意。"
    ],
    elems:{
      wind:{name:"WIND（風）",desc:"軽やかに場を動かす追い風体質。まず一歩、空気が変わる。"},
      fire:{name:"FIRE（火）",desc:"熱で突破し反転力が高い。勢いを一拍で制御すると最強。"},
      earth:{name:"EARTH（地）",desc:"核と円が強く、場の柱。丁寧に置けば全員が安心する。"},
      water:{name:"WATER（水）",desc:"和と循環で整える。翻訳と調停が武器。"}
    },
    toasts:["生成しました。"]
  },
  en:{
    you:"▶ You (Birthdate only is fine)", pair:"▶ Compatibility (optional)",
    birth:"Birthdate (required)", nick:"Nickname (optional)", nick2:"Partner nickname (optional)",
    birth2:"Partner birthdate (optional)", gen:"Create Card", gen2:"Card + Match",
    g:"Gender (optional, symbol)", g2:"Partner gender (optional)", theme:"Favorite anime (optional flavor)",
    badDate:"Invalid date format.", char:"▶ Character", name:"Name", cls:"Class", ttl:"Title",
    basic:"▶ Basics", hp:"HP (Stability)", mp:"MP (Top View)", sp:"SP (Mobility)",
    tabS:"Status", tabE:"Special", tabC:"Compatibility", six:"▶ Six Indicators (%)",
    pair:(a,b,p)=>`${a} × ${b} : <b>${p}%</b> — Mind the interval; on high days strides sync by themselves.`,
    bars:["Circle","Wind","Core","Interval","Harmony","Return"],
    elems:{
      wind:{name:"WIND",desc:"Light starter who shifts air quickly. Step first; flow follows."},
      fire:{name:"FIRE",desc:"Breakthrough by heat and reversal. Add one beat to master power."},
      earth:{name:"EARTH",desc:"Strong core & circle; becomes the pillar. Calm placement brings safety."},
      water:{name:"WATER",desc:"Harmonizer; cycles and connects. Translation & mediation are weapons."}
    },
    toasts:["Card generated."]
  }
};
let JA = (navigator.language||"ja").toLowerCase().startsWith("ja");
const $=id=>document.getElementById(id);
function T(){ const t = JA?L.ja:L.en;
  $("t_you").textContent=t.you; $("t_pair").textContent=t.pair;
  $("t_birth").textContent=t.birth; $("t_birth2").textContent=t.birth2;
  $("t_nick").textContent=t.nick; $("t_nick2").textContent=t.nick2;
  $("btnSelf").textContent=t.gen; $("btnBoth").textContent=t.gen2;
  $("t_char").textContent=t.char; $("t_name").textContent=t.name;
  $("t_class").textContent=t.cls; $("t_title").textContent=t.ttl;
  $("t_basic").textContent=t.basic; $("l_hp").textContent=t.hp;
  $("l_mp").textContent=t.mp; $("l_sp").textContent=t.sp;
  $("tabS").textContent=t.tabS; $("tabE").textContent=t.tabE; $("tabC").textContent=t.tabC;
  $("t_six").textContent=t.six; $("t_gender").textContent=t.g; $("t_gender2").textContent=t.g2; $("t_theme").textContent=t.theme;
}
$("jaBtn").onclick=()=>{JA=true;T();$("jaBtn").classList.add("on");$("enBtn").classList.remove("on");};
$("enBtn").onclick=()=>{JA=false;T();$("enBtn").classList.add("on");$("jaBtn").classList.remove("on");};
if(!JA){$("enBtn").classList.add("on");$("jaBtn").classList.remove("on");} T();

/* ===== 性別ピル選択（任意） ===== */
let G="◎", GB="◎";
document.querySelectorAll('[data-g]').forEach(btn=>{
  btn.onclick=()=>{document.querySelectorAll('[data-g]').forEach(b=>b.classList.remove("on")); btn.classList.add("on"); G=btn.getAttribute("data-g");};
});
document.querySelectorAll('[data-gb]').forEach(btn=>{
  btn.onclick=()=>{document.querySelectorAll('[data-gb]').forEach(b=>b.classList.remove("on")); btn.classList.add("on"); GB=btn.getAttribute("data-gb");};
});

/* ===== 日付処理 ===== */
function parseDate(v){
  if(!v) return null; v=v.trim();
  if(/^\d{8}$/.test(v)){const y=+v.slice(0,4),m=+v.slice(4,6)-1,d=+v.slice(6,8);
    const dt=new Date(Date.UTC(y,m,d)); if(dt&&dt.getUTCFullYear()===y&&dt.getUTCMonth()===m&&dt.getUTCDate()===d)return dt;}
  const vv=v.replace(/\//g,"-"); if(/^\d{4}-\d{2}-\d{2}$/.test(vv)){
    const [y,m,d]=vv.split("-").map(Number); const dt=new Date(Date.UTC(y,m-1,d));
    if(dt&&dt.getUTCFullYear()===y&&dt.getUTCMonth()===m-1&&dt.getUTCDate()===d)return dt;}
  return null;
}
function rngFromDate(dt){ let s = dt.getUTCFullYear()*10000+(dt.getUTCMonth()+1)*100+dt.getUTCDate();
  s = (s ^ 0x9e3779b9)>>>0; return ()=> (s = Math.imul(1664525,s)+1013904223>>>0) / 2**32; }

const KEYS_JA=["円","風","核","間","和","返"], KEYS_EN=["Circle","Wind","Core","Interval","Harmony","Return"];
function six(dt){
  const R=rngFromDate(dt), w=dt.getUTCDay(), m=dt.getUTCMonth()+1;
  return Array.from({length:6},(_,i)=>{
    const base=0.50+R()*0.30;
    const twist=((w+i)%3===0?0.04:0)+((m%6===i?0.03:0))+(R()-0.5)*0.06;
    return Math.max(0,Math.min(1,base+twist))*100|0;
  });
}
function base(s){ return {
  hp:Math.round(s[0]*0.5+s[2]*0.3+s[5]*0.2),
  mp:Math.round(s[3]*0.5+s[4]*0.3+s[2]*0.2),
  sp:Math.round(s[1]*0.6+s[3]*0.25+s[4]*0.15)
};}

/* ===== 四大エレメント推定 =====
   Wind: 風+間, Fire: 返+風, Earth: 核+円, Water: 和+円 */
function elementFromSix(s){
  const score = {
    wind: s[1]*0.6 + s[3]*0.4,
    fire: s[5]*0.6 + s[1]*0.4,
    earth: s[2]*0.6 + s[0]*0.4,
    water: s[4]*0.7 + s[0]*0.3
  };
  const key = Object.entries(score).sort((a,b)=>b[1]-a[1])[0][0];
  return key;
}

/* ===== テーマ辞書（任意） ===== */
const THEMES = {
  none: {akaHead:["風眼","間合","円坐","静芯","橋守","反灯"],
         role:["旅人","書記","調律師","見立師","影向","案内人"]},
  one:  {akaHead:["海図眼","仲間印","円羅針","覇気芯","橋楼","返潮"],
         role:["航海士","船大工","音楽家","料理番","考古手","操舵手"]},
  ninja:{akaHead:["忍眼","間影","円座頭","静芯術","橋紡","反式"],
         role:["下忍","中忍","上忍","感知役","封印役","斥候"]},
  slayer:{akaHead:["呼吸眼","間拍","円型","赫芯","橋灯","返炎"],
         role:["隊士","見習い","柱影","療養係","鍛治","走者"]},
  sphere:{akaHead:["気眼","間気","円気","芯闘","橋気","返爆"],
         role:["闘士","修行僧","策士","治癒士","気導師","観測士"]},
  spell:{akaHead:["術眼","間界","円域","核印","橋術","返陣"],
         role:["一級術士","探索士","解析士","調停士","縁結士","監察士"]}
};

/* ===== クラス等 ===== */
function topIdxs(arr,n=2){return [...arr].map((v,i)=>({v,i})).sort((a,b)=>b.v-a.v).slice(0,n).map(o=>o.i);}
function lowIdxs(arr,n=2){return [...arr].map((v,i)=>({v,i})).sort((a,b)=>a.v-b.v).slice(0,n).map(o=>o.i);}
function clazz(s,ja){
  const c=[{ja:"座標師",en:"Coordinate Sage",v:s[3]+s[4]+s[2]*.6},
           {ja:"円守",en:"Circle Keeper",v:s[0]+s[2]+s[5]},
           {ja:"風走",en:"Wind Strider",v:s[1]*1.2+s[3]},
           {ja:"返し手",en:"Return Adept",v:s[5]*1.1+s[2]*.5}].sort((a,b)=>b.v-a.v)[0];
  return ja?c.ja:c.en;
}
function titleByPeak(s,ja){
  const i=s.indexOf(Math.max(...s));
  const jaL=["静に座す核","追い風の歩","折れぬ芯","間合の妙","和の橋渡し","帰還の印"];
  const enL=["Still Core","Walker of Tailwind","Unbreaking Heart","Master of Interval","Bridge of Harmony","Sign of Return"];
  return ja?jaL[i]:enL[i];
}
function badges(s,ja){
  const base = ja?["円70+","風70+","核70+","間70+","和70+","返70+"]:
                    ["Circle70+","Wind70+","Core70+","Interval70+","Harmony70+","Return70+"];
  const a = []; s.forEach((v,i)=>{if(v>=70)a.push(base[i]);}); return a.length?a:[ja?"均整":"Balanced"];
}
function aliasName(s, nick, theme="none", ja=true){
  const [a,b]=topIdxs(s,2);
  const head = (THEMES[theme]||THEMES.none).akaHead[a];
  const base = (THEMES[theme]||THEMES.none).role[b%((THEMES[theme]||THEMES.none).role.length)];
  const core = (nick && nick.trim())? nick.trim() : (ja? "名無し" : "No-Name");
  return `${head}の${core}（${base}）`;
}
function comboName(s, gender="◎", theme="none", ja=true){
  const k = ja?KEYS_JA:KEYS_EN; const [a,b]=topIdxs(s,2);
  const key=[a,b].sort((x,y)=>x-y).join("-");
  const table_ja = {
    "0-1":"《円風合掌》","0-3":"《円環一拍》","2-5":"《芯返り》",
    "1-3":"《風走間断》","4-5":"《和返の架け》","1-5":"《追い風返し