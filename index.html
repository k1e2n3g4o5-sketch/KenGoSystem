<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>KenGoSystem – 生年月日診断ツール</title>

  <!-- 言語判定 -->
  <script>
    const qs   = new URLSearchParams(location.search);
    const auto = (navigator.language || "").toLowerCase().startsWith("ja") ? "ja" : "en";
    const lang = qs.get("lang") || auto;

    document.documentElement.setAttribute("lang", lang);
    window.APP_LANG = lang;
  </script>

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1 id="title"></h1>

      <div class="grid">
        <div>
          <label id="label_name"></label>
          <input id="name" type="text" placeholder="KenGo">
        </div>

        <div>
          <label id="label_birth"></label>
          <input id="dob" type="date">
        </div>
      </div>

      <button id="run"></button>
      <div id="out" class="result" style="display:none"></div>
    </div>
  </div>

  <script src="os.js"></script>
</body>
</html>
body {
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background:#111;
  color:#fff;
}

.wrap {
  padding:20px;
}

.card {
  background:#222;
  padding:20px;
  border-radius:10px;
  max-width:500px;
  margin:auto;
}

h1 {
  font-size:22px;
  margin-bottom:20px;
}

.grid > div {
  margin-bottom:12px;
}

label {
  display:block;
  margin-bottom:4px;
}

input {
  width:100%;
  padding:10px;
  border-radius:6px;
  border:1px solid #555;
  background:#333;
  color:#fff;
}

button {
  width:100%;
  padding:12px;
  background:#3caeff;
  border:none;
  border-radius:8px;
  font-size:18px;
  color:#000;
  margin-top:10px;
}

.result {
  background:#333;
  padding:15px;
  border-radius:8px;
  margin-top:20px;
}
// 多言語テキスト
const TEXT = {
  ja: {
    title: "KenGoSystem – 生年月日診断ツール",
    label_name: "ニックネーム",
    label_birth: "生年月日",
    btn: "診断する",
    result_title: "診断結果",
    empty: "生年月日を入力してください"
  },
  en: {
    title: "KenGoSystem – Birthdate Analyzer",
    label_name: "Nickname",
    label_birth: "Birthdate",
    btn: "Analyze",
    result_title: "Result",
    empty: "Please enter your birthdate."
  }
};

// 言語→UIに反映
const L = TEXT[window.APP_LANG];

// テキスト反映
document.getElementById("title").innerText = L.title;
document.getElementById("label_name").innerText = L.label_name;
document.getElementById("label_birth").innerText = L.label_birth;
document.getElementById("run").innerText = L.btn;


// KenGo式 OS診断ロジック（超シンプル版）
function analyze(dob) {
  const y = parseInt(dob.slice(0, 4));

  const base = y % 3;
  if (base === 0) return "風（WIND）タイプ";
  if (base === 1) return "円（CIRCLE）タイプ";
  return "ゴム（RUBBER）タイプ";
}


// ボタン
document.getElementById("run").addEventListener("click", () => {
  const dob = document.getElementById("dob").value;
  const out = document.getElementById("out");

  if (!dob) {
    out.style.display = "block";
    out.innerText = L.empty;
    return;
  }

  const r = analyze(dob);

  out.style.display = "block";
  out.innerHTML = `<h2>${L.result_title}</h2><p>${r}</p>`;
});
