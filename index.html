<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>KenGoSystem – 生年月日診断ツール</title>

<style>
body {
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background:#111;
  color:#fff;
}
.wrap { padding:20px; }
.card {
  background:#222;
  padding:20px;
  border-radius:10px;
  max-width:500px;
  margin:auto;
}
h1 { font-size:22px; margin-bottom:20px; }
.grid > div { margin-bottom:12px; }
label { display:block; margin-bottom:4px; }
input {
  width:100%; padding:10px;
  border-radius:6px;
  border:1px solid #555;
  background:#333; color:#fff;
}
button {
  width:100%; padding:12px;
  background:#3caeff; border:none;
  border-radius:8px; font-size:18px;
  color:#000; margin-top:10px;
}
.result {
  background:#333;
  padding:15px; border-radius:8px;
  margin-top:20px;
}
</style>

<script>
// 多言語設定
const qs = new URLSearchParams(location.search);
const auto = (navigator.language || "").toLowerCase().startsWith("ja") ? "ja" : "en";
const LANG = qs.get("lang") || auto;

// 文言
const TEXT = {
  ja: {
    title: "KenGoSystem – 生年月日診断ツール",
    label_name: "ニックネーム",
    label_birth: "生年月日",
    btn: "診断する",
    result_title: "診断結果",
    empty: "生年月日を入力してください"
  },
  en: {
    title: "KenGoSystem – Birthdate Analyzer",
    label_name: "Nickname",
    label_birth: "Birthdate",
    btn: "Analyze",
    result_title: "Result",
    empty: "Please enter birthdate"
  }
};

// 診断ロジック（超シンプル版：KenGo流 OS）
function analyze(d) {
  const y = parseInt(d.slice(0,4));
  const m = parseInt(d.slice(5,7));
  const day = parseInt(d.slice(8,10));

  // ここに将来 KenGo の OS ロジックを追加できる
  const core = (y + m + day) % 3;

  return [
    "風（Flow）タイプ",
    "円（Circle）タイプ",
    "弾性（Elastic）タイプ"
  ][core];
}

document.addEventListener("DOMContentLoaded", () => {
  const t = TEXT[LANG];

  document.title = t.title;
  document.getElementById("title").innerText = t.title;
  document.getElementById("label_name").innerText = t.label_name;
  document.getElementById("label_birth").innerText = t.label_birth;
  document.getElementById("run").innerText = t.btn;
});

function run() {
  const dob = document.getElementById("dob").value;
  if(!dob) { alert(TEXT[LANG].empty); return; }

  const r = analyze(dob);
  document.getElementById("out").innerHTML =
    `<h3>${TEXT[LANG].result_title}</h3><p>${r}</p>`;
  document.getElementById("out").style.display = "block";
}
</script>

</head>
<body>

<div class="wrap">
  <div class="card">
    <h1 id="title"></h1>

    <div class="grid">
      <div>
        <label id="label_name"></label>
        <input id="name" type="text" placeholder="KenGo">
      </div>

      <div>
        <label id="label_birth"></label>
        <input id="dob" type="date">
      </div>
    </div>

    <button id="run" onclick="run()"></button>

    <div id="out" class="result" style="display:none"></div>
  </div>
</div>

</body>
</html>