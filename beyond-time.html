<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Beyond Time - Premium å­˜åœ¨ã‚³ãƒ¼ãƒ‰è¨ºæ–­</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:'Noto Sans JP','Orbitron',sans-serif;background:#000;min-height:100vh;color:#fff;overflow-x:hidden;touch-action:manipulation}
.stars-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}
.star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;animation:twinkle 3s ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:0}50%{opacity:1}}
.nebula{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 50%,rgba(138,43,226,.15) 0%,transparent 50%),radial-gradient(circle at 70% 50%,rgba(0,212,255,.15) 0%,transparent 50%);z-index:0;animation:nebulaShift 20s ease-in-out infinite;pointer-events:none}
@keyframes nebulaShift{0%,100%{opacity:.3}50%{opacity:.6}}
.container{max-width:900px;margin:0 auto;padding:20px;position:relative;z-index:1}
.header{text-align:center;margin-bottom:40px;padding:50px 30px;background:linear-gradient(135deg,rgba(138,43,226,.2) 0%,rgba(0,212,255,.2) 100%);border-radius:25px;border:2px solid rgba(138,43,226,.6);box-shadow:0 0 50px rgba(138,43,226,.4);animation:headerPulse 4s ease-in-out infinite}
@keyframes headerPulse{0%,100%{box-shadow:0 0 50px rgba(138,43,226,.4)}50%{box-shadow:0 0 80px rgba(0,212,255,.6)}}
.logo{font-size:clamp(2.5rem,8vw,4rem);background:linear-gradient(135deg,#8a2be2 0%,#00d4ff 50%,#fff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:900;margin-bottom:20px;letter-spacing:.1em;animation:logoShine 3s ease-in-out infinite}
@keyframes logoShine{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.tagline{font-size:clamp(1.1rem,3vw,1.4rem);color:rgba(255,255,255,.9);line-height:1.8;margin-bottom:15px;font-weight:400}
.premium-badge{display:inline-block;background:linear-gradient(135deg,#ffd700 0%,#ff6b00 100%);color:#000;padding:12px 30px;border-radius:25px;font-size:1rem;font-weight:900;margin-top:15px;box-shadow:0 0 30px rgba(255,215,0,.6);animation:badgeGlow 2s ease-in-out infinite}
@keyframes badgeGlow{0%,100%{box-shadow:0 0 30px rgba(255,215,0,.6)}50%{box-shadow:0 0 50px rgba(255,215,0,1)}}
.progress-section{background:rgba(0,0,0,.9);padding:25px;border-radius:20px;margin:30px 0;border:2px solid rgba(138,43,226,.5)}
.progress-label{text-align:center;color:#8a2be2;font-weight:700;margin-bottom:15px;font-size:1.1rem}
.progress-bar-container{background:rgba(138,43,226,.2);height:12px;border-radius:20px;overflow:hidden;position:relative}
.progress-bar{background:linear-gradient(90deg,#8a2be2 0%,#00d4ff 100%);height:100%;transition:width .5s cubic-bezier(.4,0,.2,1);border-radius:20px;box-shadow:0 0 15px rgba(0,212,255,.8);position:relative}
.progress-bar::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:progressShine 2s ease-in-out infinite}
@keyframes progressShine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.question-container{background:rgba(0,0,0,.95);padding:35px;border-radius:20px;margin:25px 0;border:2px solid rgba(138,43,226,.5);box-shadow:0 10px 40px rgba(0,0,0,.5);transition:all .3s}
.question-container:hover{border-color:rgba(0,212,255,.7);box-shadow:0 15px 50px rgba(0,212,255,.3)}
.q-number{font-size:1rem;color:#00d4ff;font-weight:900;margin-bottom:10px;letter-spacing:.1em}
.q-title{font-size:clamp(1.2rem,3.5vw,1.5rem);color:#fff;font-weight:700;margin-bottom:25px;line-height:1.8}
.options{display:grid;grid-template-columns:1fr;gap:15px}
.opt{background:linear-gradient(135deg,rgba(138,43,226,.15) 0%,rgba(0,212,255,.1) 100%);border:2px solid rgba(138,43,226,.4);padding:20px 55px 20px 20px;border-radius:15px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);font-size:clamp(1rem,2.5vw,1.1rem);color:rgba(255,255,255,.95);text-align:left;width:100%;display:block;position:relative;overflow:hidden}
.opt::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s}
.opt:hover{background:linear-gradient(135deg,rgba(138,43,226,.3) 0%,rgba(0,212,255,.2) 100%);border-color:rgba(138,43,226,.7);transform:translateX(8px) scale(1.02);box-shadow:0 5px 25px rgba(138,43,226,.4)}
.opt:hover::before{left:100%}
.opt.selected{background:linear-gradient(135deg,rgba(0,212,255,.35) 0%,rgba(138,43,226,.25) 100%);border-color:#00d4ff;box-shadow:0 0 30px rgba(0,212,255,.6);transform:translateX(8px)}
.opt.selected::after{content:'âœ“';position:absolute;right:20px;top:50%;transform:translateY(-50%) scale(0);font-size:1.8rem;color:#00d4ff;font-weight:900;animation:checkAppear .3s cubic-bezier(.68,-.55,.265,1.55) forwards}
@keyframes checkAppear{0%{transform:translateY(-50%) scale(0) rotate(-180deg)}100%{transform:translateY(-50%) scale(1) rotate(0)}}
.btn-submit{background:linear-gradient(135deg,#8a2be2 0%,#00d4ff 100%);color:#fff;border:none;padding:22px;border-radius:18px;font-size:clamp(1.2rem,3vw,1.4rem);font-weight:900;cursor:pointer;width:100%;margin-top:30px;transition:all .3s;box-shadow:0 8px 35px rgba(138,43,226,.7);letter-spacing:.05em;text-transform:uppercase;position:relative;overflow:hidden;display:none}
.btn-submit::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.3);transform:translate(-50%,-50%);transition:width .6s,height .6s}
.btn-submit:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 45px rgba(0,212,255,.8)}
.btn-submit:hover:not(:disabled)::before{width:300%;height:300%}
.btn-submit:active:not(:disabled){transform:translateY(-1px)}
.btn-submit:disabled{opacity:.5;cursor:not-allowed}
.results{display:none;animation:resultsAppear .8s cubic-bezier(.68,-.55,.265,1.55)}
@keyframes resultsAppear{0%{opacity:0;transform:scale(.9) translateY(30px)}100%{opacity:1;transform:scale(1) translateY(0)}}
.result-header{text-align:center;padding:50px 30px;background:linear-gradient(135deg,rgba(138,43,226,.25) 0%,rgba(0,212,255,.25) 100%);border-radius:25px;margin-bottom:40px;border:2px solid rgba(0,212,255,.6);box-shadow:0 0 60px rgba(0,212,255,.5)}
.result-title{font-size:clamp(2rem,6vw,3rem);background:linear-gradient(135deg,#00d4ff 0%,#8a2be2 50%,#fff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:900;margin-bottom:20px}
.result-subtitle{font-size:clamp(1.1rem,3vw,1.3rem);color:rgba(255,255,255,.8);line-height:1.6}
.existence-code-section{background:rgba(0,0,0,.95);padding:40px;border-radius:20px;margin:30px 0;border:3px solid rgba(0,255,0,.5);box-shadow:0 0 50px rgba(0,255,0,.3);position:relative;overflow:hidden}
.existence-code-section::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(0,255,0,.1) 50%,transparent 70%);animation:codeScan 3s linear infinite}
@keyframes codeScan{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.code-title{font-size:1.6rem;color:#00ff00;font-weight:900;margin-bottom:20px;text-align:center;text-shadow:0 0 20px rgba(0,255,0,.8)}
.code-display{background:#000;padding:30px;border-radius:15px;font-family:'Orbitron','Courier New',monospace;font-size:clamp(1.5rem,4vw,2.5rem);color:#00ff00;text-align:center;letter-spacing:.15em;font-weight:900;border:2px solid rgba(0,255,0,.5);box-shadow:inset 0 0 30px rgba(0,255,0,.2);position:relative;z-index:1}
.parallel-worlds{display:grid;grid-template-columns:1fr;gap:25px;margin:40px 0}
@media(min-width:768px){.parallel-worlds{grid-template-columns:repeat(3,1fr)}}
.parallel-card{background:linear-gradient(135deg,rgba(138,43,226,.2) 0%,rgba(0,0,0,.95) 100%);padding:30px;border-radius:20px;border:2px solid rgba(138,43,226,.5);transition:all .4s;cursor:pointer;position:relative;overflow:hidden}
.parallel-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(0,212,255,.1) 0%,transparent 100%);opacity:0;transition:opacity .4s}
.parallel-card:hover{transform:translateY(-10px) scale(1.05);border-color:rgba(0,212,255,.8);box-shadow:0 15px 50px rgba(0,212,255,.5)}
.parallel-card:hover::before{opacity:1}
.parallel-icon{font-size:3rem;margin-bottom:15px;text-align:center}
.parallel-title{font-size:1.3rem;color:#00d4ff;font-weight:900;margin-bottom:15px;text-align:center}
.parallel-desc{font-size:1rem;color:rgba(255,255,255,.85);line-height:1.8;text-align:center}
.analysis-section{background:rgba(0,0,0,.95);padding:35px;border-radius:20px;margin:30px 0;border:2px solid rgba(138,43,226,.5);position:relative}
.analysis-title{font-size:1.5rem;color:#8a2be2;font-weight:900;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid rgba(138,43,226,.3)}
.analysis-text{font-size:1.05rem;color:rgba(255,255,255,.9);line-height:2;margin-bottom:15px}
.highlight{color:#00d4ff;font-weight:700}
.ai-code-section{background:rgba(0,0,0,.95);padding:35px;border-radius:20px;margin:30px 0;border:2px solid rgba(0,255,0,.5)}
.ai-code-title{font-size:1.4rem;color:#00ff00;font-weight:900;margin-bottom:20px;text-align:center}
.code-box{background:#000;padding:25px;border-radius:15px;font-family:'Courier New',monospace;font-size:.9rem;color:#00ff00;line-height:1.8;border:2px solid rgba(0,255,0,.3);margin:20px 0;white-space:pre-wrap;max-height:500px;overflow-y:auto;box-shadow:inset 0 0 20px rgba(0,255,0,.1)}
.code-box::-webkit-scrollbar{width:8px}
.code-box::-webkit-scrollbar-track{background:rgba(0,0,0,.5)}
.code-box::-webkit-scrollbar-thumb{background:rgba(0,255,0,.5);border-radius:10px}
.btn-copy{background:linear-gradient(135deg,#00ff00 0%,#00d4ff 100%);color:#000;border:none;padding:18px;border-radius:12px;font-size:1.1rem;font-weight:900;cursor:pointer;width:100%;transition:all .3s;margin-top:15px}
.btn-copy:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,255,0,.6)}
.share-section{background:linear-gradient(135deg,rgba(138,43,226,.15) 0%,rgba(0,212,255,.15) 100%);padding:35px;border-radius:20px;margin:30px 0;border:2px solid rgba(138,43,226,.4);text-align:center}
.share-title{font-size:1.4rem;color:#8a2be2;font-weight:900;margin-bottom:20px}
.share-buttons{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}
.btn-share{flex:1;min-width:150px;padding:15px 25px;border-radius:12px;font-size:1rem;font-weight:700;border:none;cursor:pointer;transition:all .3s;color:#fff}
.btn-twitter{background:linear-gradient(135deg,#1da1f2 0%,#0d8bd9 100%)}
.btn-url{background:linear-gradient(135deg,#8a2be2 0%,#5d1f9e 100%)}
.btn-share:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgba(138,43,226,.5)}
.back-link{display:block;text-align:center;margin-top:40px;color:rgba(255,255,255,.6);text-decoration:none;font-size:1rem;padding:15px;transition:color .3s}
.back-link:hover{color:#00d4ff}
</style>
</head>
<body>
<div class="nebula"></div>
<div class="stars-container" id="starsContainer"></div>

<div class="container">
<header class="header">
<h1 class="logo">BEYOND TIME</h1>
<p class="tagline">
æ™‚ç©ºã‚’è¶…ãˆãŸå­˜åœ¨ã‚³ãƒ¼ãƒ‰è¨ºæ–­<br>
ã‚ãªãŸã®æœ¬è³ªã‚’é‡å­ãƒ¬ãƒ™ãƒ«ã§è§£æ
</p>
<div class="premium-badge">âœ¨ PREMIUM DIAGNOSIS âœ¨</div>
</header>

<section class="progress-section">
<div class="progress-label"><span id="progressText">è³ªå• 0/15</span></div>
<div class="progress-bar-container">
<div class="progress-bar" id="progressBar" style="width:0%"></div>
</div>
</section>

<section id="questionSection"></section>

<button class="btn-submit" id="btnSubmit" onclick="showResults()">
âœ¨ å­˜åœ¨ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ âœ¨
</button>

<section class="results" id="results">
<div class="result-header">
<h2 class="result-title">ğŸŒŒ è¨ºæ–­å®Œäº†</h2>
<p class="result-subtitle">ã‚ãªãŸã®å­˜åœ¨ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ</p>
</div>

<div class="existence-code-section">
<h3 class="code-title">âš¡ ã‚ãªãŸã®å­˜åœ¨ã‚³ãƒ¼ãƒ‰ âš¡</h3>
<div class="code-display" id="existenceCode">---</div>
</div>

<div class="analysis-section">
<h3 class="analysis-title">ğŸ”® æ·±å±¤å¿ƒç†åˆ†æ</h3>
<div id="analysisContent"></div>
</div>

<h3 style="font-size:1.8rem;color:#00d4ff;font-weight:900;text-align:center;margin:50px 0 30px">ğŸŒ ã‚ãªãŸã®3ã¤ã®ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰</h3>
<div class="parallel-worlds" id="parallelWorlds"></div>

<div class="ai-code-section">
<h3 class="ai-code-title">ğŸ¤– AIè¶…é€£æºã‚³ãƒ¼ãƒ‰</h3>
<pre class="code-box" id="aiCodeBox"></pre>
<button class="btn-copy" onclick="copyAICode()">ğŸ“‹ ã‚³ãƒ”ãƒ¼ã—ã¦AIã«è²¼ã‚Šä»˜ã‘</button>
</div>

<div class="share-section">
<h3 class="share-title">âœ¨ çµæœã‚’ã‚·ã‚§ã‚¢</h3>
<div class="share-buttons">
<button class="btn-share btn-twitter" onclick="shareTwitter()">ğŸ¦ Twitter</button>
<button class="btn-share btn-url" onclick="copyUrl()">ğŸ”— URLã‚³ãƒ”ãƒ¼</button>
</div>
</div>
</section>

<nav>
<a href="index.html" class="back-link">â† ã‚¨ãƒ³ãƒˆãƒ©ãƒ³ã‚¹ã«æˆ»ã‚‹</a>
</nav>
</div>

<script>
const ans={};
const questions=[
{id:1,title:'éå»ã®è¨˜æ†¶ã¯ã€ã‚ãªãŸã«ã¨ã£ã¦ã©ã‚“ãªå­˜åœ¨ã§ã™ã‹ï¼Ÿ',options:[{text:'å®ç‰©ã®ã‚ˆã†ã«å¤§åˆ‡ã€‚éå»ãŒã‚ã‚‹ã‹ã‚‰ä»ŠãŒã‚ã‚‹ã€‚',value:1},{text:'æ™‚ã€…æŒ¯ã‚Šè¿”ã‚‹ãŒã€ä»Šã‚’ç”Ÿãã‚‹ã“ã¨ã‚’å„ªå…ˆã€‚',value:2},{text:'éå»ã¯éå»ã€‚ä»Šã¨æœªæ¥ã ã‘ã‚’è¦‹ã¦ã„ã‚‹ã€‚',value:3}]},
{id:2,title:'æœªæ¥ã«ã¤ã„ã¦è€ƒãˆã‚‹æ™‚ã€ã©ã‚“ãªæ„Ÿæƒ…ãŒæ¹§ãã¾ã™ã‹ï¼Ÿ',options:[{text:'ãƒ¯ã‚¯ãƒ¯ã‚¯ã¨æœŸå¾…ã§æº€ãŸã•ã‚Œã‚‹ã€‚',value:1},{text:'ä¸å®‰ã¨æœŸå¾…ãŒæ··åœ¨ã—ã¦ã„ã‚‹ã€‚',value:2},{text:'æœªæ¥ã¯ä¸ç¢ºå®Ÿã€‚ä»Šã‚’å…¨åŠ›ã§ç”Ÿãã‚‹ã ã‘ã€‚',value:3}]},
{id:3,title:'ã€Œä»Šã“ã®ç¬é–“ã€ã‚’ã©ã‚Œã ã‘æ„è­˜ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'å¸¸ã«ä»Šã«é›†ä¸­ã—ã¦ã„ã‚‹ã€‚éå»ã‚‚æœªæ¥ã‚‚æ°—ã«ã—ãªã„ã€‚',value:3},{text:'æ™‚ã€…ä»Šã«æ„è­˜ã‚’å‘ã‘ã‚‹ãŒã€é›£ã—ã„ã€‚',value:2},{text:'éå»ã‚„æœªæ¥ã®ã“ã¨ã°ã‹ã‚Šè€ƒãˆã¦ã„ã‚‹ã€‚',value:1}]},
{id:4,title:'ä»–äººã¨è‡ªåˆ†ã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ',options:[{text:'ã‚ˆãæ¯”è¼ƒã—ã¦ã—ã¾ã†ã€‚ç„¦ã‚Šã‚„åŠ£ç­‰æ„Ÿã‚’æ„Ÿã˜ã‚‹ã€‚',value:1},{text:'æ™‚ã€…æ¯”è¼ƒã™ã‚‹ãŒã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã€‚',value:2},{text:'ã»ã¨ã‚“ã©æ¯”è¼ƒã—ãªã„ã€‚äººã¯äººã€è‡ªåˆ†ã¯è‡ªåˆ†ã€‚',value:3}]},
{id:5,title:'ã€Œæ™‚é–“ã€ã¨ã¯ã€ã‚ãªãŸã«ã¨ã£ã¦ä½•ã§ã™ã‹ï¼Ÿ',options:[{text:'é™ã‚‰ã‚ŒãŸè³‡æºã€‚æœ‰åŠ¹ã«ä½¿ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',value:1},{text:'æµã‚Œã‚‹ã‚‚ã®ã€‚è‡ªç„¶ã«ä»»ã›ã¦ã„ã‚‹ã€‚',value:2},{text:'å¹»æƒ³ã€‚æœ¬å½“ã¯å­˜åœ¨ã—ãªã„ã¨æ„Ÿã˜ã‚‹ã€‚',value:3}]},
{id:6,title:'äººç”Ÿã«ãŠã„ã¦ã€ä½•ã‚’æœ€ã‚‚å¤§åˆ‡ã«ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'æˆé•·ã¨é”æˆã€‚å¸¸ã«å‰é€²ã—ãŸã„ã€‚',value:1},{text:'ãƒãƒ©ãƒ³ã‚¹ã€‚ä»•äº‹ã‚‚éŠã³ã‚‚å¤§åˆ‡ã€‚',value:2},{text:'å­˜åœ¨ãã®ã‚‚ã®ã€‚ä½•ã‚‚ã—ãªãã¦ã‚‚ä¾¡å€¤ãŒã‚ã‚‹ã€‚',value:3}]},
{id:7,title:'å¤±æ•—ã‚„æŒ«æŠ˜ã‚’ã©ã†æ‰ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'é¿ã‘ã‚‹ã¹ãã‚‚ã®ã€‚ææ€–ã‚’æ„Ÿã˜ã‚‹ã€‚',value:1},{text:'å­¦ã³ã®æ©Ÿä¼šã€‚æˆé•·ã®ãŸã‚ã«å¿…è¦ã€‚',value:2},{text:'å¤±æ•—ã‚‚æˆåŠŸã‚‚åŒã˜ã€‚ã™ã¹ã¦ãŒçµŒé¨“ã€‚',value:3}]},
{id:8,title:'ç›´æ„Ÿã¨è«–ç†ã€ã©ã¡ã‚‰ã‚’ä¿¡ã˜ã¾ã™ã‹ï¼Ÿ',options:[{text:'è«–ç†ã‚’é‡è¦–ã€‚ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æãŒå¤§åˆ‡ã€‚',value:1},{text:'çŠ¶æ³ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹ã€‚',value:2},{text:'ç›´æ„Ÿã‚’ä¿¡ã˜ã‚‹ã€‚ä½“ãŒç­”ãˆã‚’çŸ¥ã£ã¦ã„ã‚‹ã€‚',value:3}]},
{id:9,title:'å­¤ç‹¬ã‚’ã©ã†æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ',options:[{text:'å¯‚ã—ã„ã€‚èª°ã‹ã¨ç¹‹ãŒã£ã¦ã„ãŸã„ã€‚',value:1},{text:'æ™‚ã«ã¯å¿…è¦ã€‚è‡ªåˆ†ã¨å‘ãåˆã†æ™‚é–“ã€‚',value:2},{text:'å­¤ç‹¬ã“ããŒæœ¬æ¥ã®å§¿ã€‚ä¸€äººã§å®Œçµã—ã¦ã„ã‚‹ã€‚',value:3}]},
{id:10,title:'ã€Œæ„å‘³ã€ã‚„ã€Œç›®çš„ã€ã‚’ã©ã‚Œã ã‘æ±‚ã‚ã¾ã™ã‹ï¼Ÿ',options:[{text:'å¸¸ã«æ±‚ã‚ã¦ã„ã‚‹ã€‚æ„å‘³ãŒãªã„ã¨ä¸å®‰ã€‚',value:1},{text:'ã‚ã‚‹ç¨‹åº¦æ±‚ã‚ã‚‹ãŒã€å›šã‚ã‚Œãªã„ã€‚',value:2},{text:'æ±‚ã‚ã¦ã„ãªã„ã€‚å­˜åœ¨ãã®ã‚‚ã®ãŒæ„å‘³ã€‚',value:3}]},
{id:11,title:'å¤‰åŒ–ã‚’ã©ã†æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ',options:[{text:'ä¸å®‰ã€‚å®‰å®šã‚’æœ›ã‚€ã€‚',value:1},{text:'å¿…è¦ãªã‚‚ã®ã€‚æŸ”è»Ÿã«å¯¾å¿œã™ã‚‹ã€‚',value:2},{text:'å¸¸ã«å¤‰åŒ–ã—ã¦ã„ã‚‹ã€‚ãã‚ŒãŒè‡ªç„¶ã€‚',value:3}]},
{id:12,title:'ã€Œæ­»ã€ã«ã¤ã„ã¦ã©ã†æ€ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'ææ€–ã‚’æ„Ÿã˜ã‚‹ã€‚è€ƒãˆãŸããªã„ã€‚',value:1},{text:'è‡ªç„¶ãªã“ã¨ã€‚å—ã‘å…¥ã‚Œã¦ã„ã‚‹ã€‚',value:2},{text:'æ­»ã‚‚ç”Ÿã‚‚åŒã˜ã€‚å¢ƒç•ŒãŒãªã„ã€‚',value:3}]},
{id:13,title:'ã‚ãªãŸã®ã€Œå­˜åœ¨ã€ã‚’ã©ã†æ‰ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'ä½•ã‹ã‚’æˆã—é‚ã’ã¦åˆã‚ã¦ä¾¡å€¤ãŒã‚ã‚‹ã€‚',value:1},{text:'æˆã—é‚ã’ã‚‹ã“ã¨ã‚‚å¤§äº‹ã ãŒã€å­˜åœ¨è‡ªä½“ã‚‚å¤§åˆ‡ã€‚',value:2},{text:'å­˜åœ¨ã™ã‚‹ã ã‘ã§å®Œç’§ã€‚è¨¼æ˜ã¯ä¸è¦ã€‚',value:3}]},
{id:14,title:'äººç”Ÿã§æœ€ã‚‚ç¾ã—ã„ã¨æ„Ÿã˜ã‚‹ç¬é–“ã¯ï¼Ÿ',options:[{text:'ç›®æ¨™ã‚’é”æˆã—ãŸæ™‚ã€‚åŠªåŠ›ãŒå ±ã‚ã‚Œã‚‹ç¬é–“ã€‚',value:1},{text:'æ„›ã™ã‚‹äººã¨éã”ã™æ™‚ã€‚ç¹‹ãŒã‚Šã‚’æ„Ÿã˜ã‚‹ç¬é–“ã€‚',value:2},{text:'ä½•ã‚‚ãªã„é™å¯‚ã®ä¸­ã€‚ãŸã å­˜åœ¨ã—ã¦ã„ã‚‹ç¬é–“ã€‚',value:3}]},
{id:15,title:'ã‚ãªãŸã¯ä½•è€…ã ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',options:[{text:'è‚©æ›¸ãã‚„å½¹å‰²ãŒè‡ªåˆ†ã‚’å®šç¾©ã™ã‚‹ã€‚',value:1},{text:'è¤‡æ•°ã®å´é¢ã‚’æŒã¤è¤‡é›‘ãªå­˜åœ¨ã€‚',value:2},{text:'å®šç¾©ã§ããªã„ã€‚è¨€è‘‰ã‚’è¶…ãˆãŸå­˜åœ¨ã€‚',value:3}]}
];

function createStars(){
const container=document.getElementById('starsContainer');
for(let i=0;i<200;i++){
const star=document.createElement('div');
star.className='star';
star.style.left=Math.random()*100+'%';
star.style.top=Math.random()*100+'%';
star.style.animationDelay=Math.random()*3+'s';
container.appendChild(star);
}
}

function renderQuestions(){
const section=document.getElementById('questionSection');
questions.forEach(q=>{
const container=document.createElement('div');
container.className='question-container';
container.innerHTML=`
<div class="q-number">QUESTION ${q.id}/15</div>
<div class="q-title">${q.title}</div>
<div class="options">
${q.options.map(opt=>`<button class="opt" data-q="${q.id}" data-v="${opt.value}">${opt.text}</button>`).join('')}
</div>
`;
section.appendChild(container);
});
attachEvents();
}

function attachEvents(){
document.querySelectorAll('.opt').forEach(btn=>{
btn.onclick=null;
btn.addEventListener('click',function(e){
e.preventDefault();
const q=this.getAttribute('data-q');
const v=parseInt(this.getAttribute('data-v'));
ans['q'+q]=v;
this.closest('.options').querySelectorAll('.opt').forEach(o=>o.classList.remove('selected'));
this.classList.add('selected');
updateProgress();
checkSubmit();
});
btn.addEventListener('touchstart',function(e){
e.preventDefault();
this.click();
});
});
}

function updateProgress(){
const answered=Object.keys(ans).length;
const percent=(answered/15)*100;
document.getElementById('progressBar').style.width=percent+'%';
document.getElementById('progressText').textContent=`è³ªå• ${answered}/15`;
}

function checkSubmit(){
const btn=document.getElementById('btnSubmit');
if(Object.keys(ans).length===15){
btn.style.display='block';
btn.disabled=false;
}else{
btn.disabled=true;
}
}

function showResults(){
if(Object.keys(ans).length<15){
alert('ã™ã¹ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„');
return;
}

const score=Object.values(ans).reduce((sum,val)=>sum+val,0);
const avgScore=(score/15).toFixed(1);

let codePrefix,personality,analysis,parallel1,parallel2,parallel3;

if(avgScore<=1.5){
codePrefix='ALPHA';
personality='é”æˆè€…';
analysis='ã‚ãªãŸã¯<span class="highlight">éå»ã¨æœªæ¥ã«å¼·ãæ„è­˜ã‚’å‘ã‘ã‚‹ã‚¿ã‚¤ãƒ—</span>ã§ã™ã€‚ç›®æ¨™é”æˆã‚„æˆé•·ã‚’é‡è¦–ã—ã€å¸¸ã«å‰é€²ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚æ™‚ã«ã¯ã€Œä»Šã€ã‚’å¿˜ã‚ŒãŒã¡ã§ã™ãŒã€ãã®æƒ…ç†±ã“ããŒã‚ãªãŸã®å¼·ã•ã§ã™ã€‚<br><br>éå»ã®çµŒé¨“ã‹ã‚‰å­¦ã³ã€æœªæ¥ã‚’è¦‹æ®ãˆã‚‹åŠ›ã¯ç´ æ™´ã‚‰ã—ã„æ‰èƒ½ã§ã™ã€‚ãŸã ã—ã€<span class="highlight">æ™‚ã€…ç«‹ã¡æ­¢ã¾ã£ã¦ã€Œä»Šã“ã®ç¬é–“ã€ã‚’å‘³ã‚ã†ã“ã¨</span>ã§ã€äººç”Ÿã¯ã•ã‚‰ã«è±Šã‹ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚';
parallel1={icon:'ğŸ”¥',title:'çŒ›çƒˆãªèµ·æ¥­å®¶',desc:'åˆ¥ã®ä¸–ç•Œç·šã§ã¯ã€ã‚ãªãŸã¯é©æ–°çš„ãªã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚’ç«‹ã¡ä¸Šã’ã€ä¸–ç•Œã‚’å¤‰ãˆã‚‹ãƒªãƒ¼ãƒ€ãƒ¼ã«ãªã£ã¦ã„ã¾ã™ã€‚'};
parallel2={icon:'ğŸ¯',title:'å®Œç’§ä¸»ç¾©è€…',desc:'ã‚‚ã†ä¸€ã¤ã®ä¸–ç•Œã§ã¯ã€ç´°éƒ¨ã¾ã§å¾¹åº•çš„ã«ã“ã ã‚ã‚‹è·äººã¨ã—ã¦ã€å”¯ä¸€ç„¡äºŒã®ä½œå“ã‚’ç”Ÿã¿å‡ºã—ã¦ã„ã¾ã™ã€‚'};
parallel3={icon:'âš¡',title:'æ™‚é–“ã®æ”¯é…è€…',desc:'ã•ã‚‰ã«åˆ¥ã®æ¬¡å…ƒã§ã¯ã€æ™‚é–“ç®¡ç†ã®é”äººã¨ã—ã¦ã€1æ—¥48æ™‚é–“ã‚’ç”Ÿãã¦ã„ã‚‹ã‹ã®ã‚ˆã†ãªç”Ÿç”£æ€§ã‚’ç™ºæ®ã—ã¦ã„ã¾ã™ã€‚'};
}else if(avgScore<=2.5){
codePrefix='BETA';
personality='èª¿å’Œè€…';
analysis='ã‚ãªãŸã¯<span class="highlight">ãƒãƒ©ãƒ³ã‚¹ã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¿ã‚¤ãƒ—</span>ã§ã™ã€‚éå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã®ã™ã¹ã¦ã«é©åº¦ãªæ³¨æ„ã‚’æ‰•ã„ã€æŸ”è»Ÿã«å¯¾å¿œã§ãã¾ã™ã€‚ã“ã®èª¿å’Œæ„Ÿè¦šã¯ã€æ··æ²Œã¨ã—ãŸç¾ä»£ç¤¾ä¼šã§éå¸¸ã«è²´é‡ãªèƒ½åŠ›ã§ã™ã€‚<br><br>ã‚ãªãŸã®å¼·ã¿ã¯<span class="highlight">çŠ¶æ³ã«å¿œã˜ã¦é©åˆ‡ã«å¯¾å¿œã§ãã‚‹æŸ”è»Ÿæ€§</span>ã«ã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€æ™‚ã«ã¯ç›´æ„Ÿã«å¾“ã£ã¦å¤§èƒ†ãªæ±ºæ–­ã‚’ã™ã‚‹ã“ã¨ã§ã€æ–°ã—ã„å¯èƒ½æ€§ãŒé–‹ã‘ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚';
parallel1={icon:'ğŸŒŠ',title:'ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼',desc:'åˆ¥ã®ä¸–ç•Œç·šã§ã¯ã€å¤šãã®äººã€…ã®å¿ƒã‚’ç™’ã—ã€å°ããƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã¨ã—ã¦æ´»èºã—ã¦ã„ã¾ã™ã€‚'};
parallel2={icon:'ğŸ¨',title:'ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼',desc:'ã‚‚ã†ä¸€ã¤ã®ä¸–ç•Œã§ã¯ã€èŠ¸è¡“ã¨å•†æ¥­ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å®Œç’§ã«å–ã‚Šã€ä¸–ç•Œä¸­ã§æ„›ã•ã‚Œã‚‹ä½œå“ã‚’ç”Ÿã¿å‡ºã—ã¦ã„ã¾ã™ã€‚'};
parallel3={icon:'ğŸŒ¸',title:'èª¿åœè€…',desc:'ã•ã‚‰ã«åˆ¥ã®æ¬¡å…ƒã§ã¯ã€å›½éš›çš„ãªç´›äº‰ã‚’è§£æ±ºã™ã‚‹å¤–äº¤å®˜ã¨ã—ã¦ã€ä¸–ç•Œå¹³å’Œã«è²¢çŒ®ã—ã¦ã„ã¾ã™ã€‚'};
}else{
codePrefix='GAMMA';
personality='è¶…è¶Šè€…';
analysis='ã‚ãªãŸã¯<span class="highlight">ã€Œä»Šã€ã‚’ç”Ÿãã‚‹ã“ã¨ã‚’æ·±ãç†è§£ã—ã¦ã„ã‚‹ã‚¿ã‚¤ãƒ—</span>ã§ã™ã€‚éå»ã«ã‚‚æœªæ¥ã«ã‚‚å›šã‚ã‚Œãšã€ã“ã®ç¬é–“ã«å®Œå…¨ã«å­˜åœ¨ã§ãã‚‹ç¨€æœ‰ãªèƒ½åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã“ã®å¢ƒåœ°ã¯å¤šãã®äººãŒæ±‚ã‚ãªãŒã‚‰ã‚‚ãªã‹ãªã‹åˆ°é”ã§ããªã„ã‚‚ã®ã§ã™ã€‚<br><br>ã‚ãªãŸã®å­˜åœ¨ãã®ã‚‚ã®ãŒ<span class="highlight">å‘¨å›²ã«é™ã‘ã•ã¨å®‰å¿ƒæ„Ÿã‚’ã‚‚ãŸã‚‰ã™</span>ã§ã—ã‚‡ã†ã€‚ã“ã®æ„Ÿè¦šã‚’æ·±ã‚ã€ã•ã‚‰ã«å¤šãã®äººã€…ã¨åˆ†ã‹ã¡åˆã†ã“ã¨ã§ã€ä¸–ç•Œã¯ã‚ˆã‚Šå¹³å’Œã«ãªã£ã¦ã„ãã¯ãšã§ã™ã€‚';
parallel1={icon:'ğŸ§˜',title:'æ‚Ÿã‚Šã®å°å¸«',desc:'åˆ¥ã®ä¸–ç•Œç·šã§ã¯ã€å±±å¥¥ã§ä¿®è¡Œã‚’ç©ã¿ã€å¤šãã®å¼Ÿå­ãŸã¡ã«çœŸç†ã‚’ä¼ãˆã‚‹ç²¾ç¥çš„æŒ‡å°è€…ã¨ãªã£ã¦ã„ã¾ã™ã€‚'};
parallel2={icon:'âœ¨',title:'ãƒ’ãƒ¼ãƒ©ãƒ¼',desc:'ã‚‚ã†ä¸€ã¤ã®ä¸–ç•Œã§ã¯ã€è¨€è‘‰ã‚’ä½¿ã‚ãšã¨ã‚‚äººã€…ã®å¿ƒã‚’ç™’ã™ã€ç‰¹åˆ¥ãªåŠ›ã‚’æŒã¤å­˜åœ¨ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚'};
parallel3={icon:'ğŸŒŒ',title:'æ™‚ç©ºã®æ—…äºº',desc:'ã•ã‚‰ã«åˆ¥ã®æ¬¡å…ƒã§ã¯ã€æ™‚é–“ã¨ã„ã†æ¦‚å¿µã‚’è¶…è¶Šã—ã€éå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã‚’è‡ªç”±ã«è¡Œãæ¥ã™ã‚‹å­˜åœ¨ã«ãªã£ã¦ã„ã¾ã™ã€‚'};
}

const existenceCode=`${codePrefix}-${Math.floor(Math.random()*9000+1000)}-${String.fromCharCode(65+Math.floor(Math.random()*26))}${String.fromCharCode(65+Math.floor(Math.random()*26))}`;

const aiCode=`
ğŸŒŒ BEYOND TIME - PREMIUMè¨ºæ–­çµæœ ğŸŒŒ

è¨ºæ–­æ—¥æ™‚: ${new Date().toLocaleString('ja-JP')}
å­˜åœ¨ã‚³ãƒ¼ãƒ‰: ${existenceCode}
ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã‚¿ã‚¤ãƒ—: ${personality}
å¹³å‡ã‚¹ã‚³ã‚¢: ${avgScore}/3.0

ã€æ·±å±¤å¿ƒç†ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã€‘
${analysis.replace(/<[^>]*>/g,'')}

ã€15å•è©³ç´°ã‚¹ã‚³ã‚¢ã€‘
${questions.map((q,i)=>`Q${i+1}: ${ans['q'+(i+1)]||0}/3`).join('\n')}

ã€ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰ã€‘
1. ${parallel1.title} - ${parallel1.desc}
2. ${parallel2.title} - ${parallel2.desc}
3. ${parallel3.title} - ${parallel3.desc}

ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å­˜åœ¨ã‚³ãƒ¼ãƒ‰ã¨è¨ºæ–­çµæœã‚’å…ƒã«ã€
ã•ã‚‰ã«æ·±ã„ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚

Beyond Time Premium Diagnosis
`;

document.getElementById('existenceCode').textContent=existenceCode;
document.getElementById('analysisContent')